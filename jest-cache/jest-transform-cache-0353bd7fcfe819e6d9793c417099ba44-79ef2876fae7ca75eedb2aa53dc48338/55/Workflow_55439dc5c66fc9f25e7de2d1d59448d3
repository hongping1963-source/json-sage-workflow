e61b79461f07944e0790c3ebce104ebc
"use strict";

/* istanbul ignore next */
function cov_1a31t1lzli() {
  var path = "C:\\Users\\hongping\\CascadeProjects\\json-sage-ai-agent\\src\\core\\Workflow.ts";
  var hash = "b312be9a4840f5b7c63899a603b27516a169284b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\hongping\\CascadeProjects\\json-sage-ai-agent\\src\\core\\Workflow.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 3,
          column: 34
        }
      },
      "2": {
        start: {
          line: 4,
          column: 23
        },
        end: {
          line: 4,
          column: 48
        }
      },
      "3": {
        start: {
          line: 5,
          column: 26
        },
        end: {
          line: 5,
          column: 54
        }
      },
      "4": {
        start: {
          line: 6,
          column: 31
        },
        end: {
          line: 6,
          column: 64
        }
      },
      "5": {
        start: {
          line: 7,
          column: 22
        },
        end: {
          line: 7,
          column: 46
        }
      },
      "6": {
        start: {
          line: 8,
          column: 20
        },
        end: {
          line: 8,
          column: 42
        }
      },
      "7": {
        start: {
          line: 9,
          column: 16
        },
        end: {
          line: 9,
          column: 34
        }
      },
      "8": {
        start: {
          line: 10,
          column: 26
        },
        end: {
          line: 10,
          column: 54
        }
      },
      "9": {
        start: {
          line: 11,
          column: 20
        },
        end: {
          line: 11,
          column: 49
        }
      },
      "10": {
        start: {
          line: 12,
          column: 24
        },
        end: {
          line: 12,
          column: 57
        }
      },
      "11": {
        start: {
          line: 13,
          column: 26
        },
        end: {
          line: 13,
          column: 54
        }
      },
      "12": {
        start: {
          line: 30,
          column: 8
        },
        end: {
          line: 30,
          column: 31
        }
      },
      "13": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 32,
          column: 31
        }
      },
      "14": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 33,
          column: 31
        }
      },
      "15": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 34,
          column: 37
        }
      },
      "16": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 36,
          column: 32
        }
      },
      "17": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 106
        }
      },
      "18": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 38,
          column: 64
        }
      },
      "19": {
        start: {
          line: 39,
          column: 8
        },
        end: {
          line: 39,
          column: 75
        }
      },
      "20": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 61
        }
      },
      "21": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 41,
          column: 77
        }
      },
      "22": {
        start: {
          line: 42,
          column: 8
        },
        end: {
          line: 42,
          column: 46
        }
      },
      "23": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 45,
          column: 9
        }
      },
      "24": {
        start: {
          line: 44,
          column: 12
        },
        end: {
          line: 44,
          column: 84
        }
      },
      "25": {
        start: {
          line: 46,
          column: 8
        },
        end: {
          line: 46,
          column: 26
        }
      },
      "26": {
        start: {
          line: 55,
          column: 8
        },
        end: {
          line: 57,
          column: 9
        }
      },
      "27": {
        start: {
          line: 56,
          column: 12
        },
        end: {
          line: 56,
          column: 91
        }
      },
      "28": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 23
        }
      },
      "29": {
        start: {
          line: 59,
          column: 8
        },
        end: {
          line: 61,
          column: 9
        }
      },
      "30": {
        start: {
          line: 60,
          column: 12
        },
        end: {
          line: 60,
          column: 35
        }
      },
      "31": {
        start: {
          line: 62,
          column: 8
        },
        end: {
          line: 62,
          column: 33
        }
      },
      "32": {
        start: {
          line: 63,
          column: 8
        },
        end: {
          line: 63,
          column: 41
        }
      },
      "33": {
        start: {
          line: 64,
          column: 8
        },
        end: {
          line: 64,
          column: 20
        }
      },
      "34": {
        start: {
          line: 71,
          column: 8
        },
        end: {
          line: 73,
          column: 9
        }
      },
      "35": {
        start: {
          line: 72,
          column: 12
        },
        end: {
          line: 72,
          column: 39
        }
      },
      "36": {
        start: {
          line: 74,
          column: 8
        },
        end: {
          line: 74,
          column: 20
        }
      },
      "37": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 84,
          column: 9
        }
      },
      "38": {
        start: {
          line: 83,
          column: 12
        },
        end: {
          line: 83,
          column: 87
        }
      },
      "39": {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 87,
          column: 9
        }
      },
      "40": {
        start: {
          line: 86,
          column: 12
        },
        end: {
          line: 86,
          column: 85
        }
      },
      "41": {
        start: {
          line: 88,
          column: 22
        },
        end: {
          line: 88,
          column: 48
        }
      },
      "42": {
        start: {
          line: 89,
          column: 8
        },
        end: {
          line: 89,
          column: 23
        }
      },
      "43": {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 90,
          column: 36
        }
      },
      "44": {
        start: {
          line: 92,
          column: 23
        },
        end: {
          line: 92,
          column: 109
        }
      },
      "45": {
        start: {
          line: 93,
          column: 8
        },
        end: {
          line: 95,
          column: 9
        }
      },
      "46": {
        start: {
          line: 94,
          column: 12
        },
        end: {
          line: 94,
          column: 111
        }
      },
      "47": {
        start: {
          line: 96,
          column: 8
        },
        end: {
          line: 96,
          column: 20
        }
      },
      "48": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 103,
          column: 41
        }
      },
      "49": {
        start: {
          line: 104,
          column: 8
        },
        end: {
          line: 104,
          column: 20
        }
      },
      "50": {
        start: {
          line: 112,
          column: 24
        },
        end: {
          line: 112,
          column: 63
        }
      },
      "51": {
        start: {
          line: 113,
          column: 8
        },
        end: {
          line: 113,
          column: 40
        }
      },
      "52": {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 136,
          column: 9
        }
      },
      "53": {
        start: {
          line: 116,
          column: 12
        },
        end: {
          line: 116,
          column: 36
        }
      },
      "54": {
        start: {
          line: 118,
          column: 35
        },
        end: {
          line: 118,
          column: 110
        }
      },
      "55": {
        start: {
          line: 120,
          column: 12
        },
        end: {
          line: 130,
          column: 13
        }
      },
      "56": {
        start: {
          line: 121,
          column: 29
        },
        end: {
          line: 121,
          column: 51
        }
      },
      "57": {
        start: {
          line: 122,
          column: 16
        },
        end: {
          line: 123,
          column: 29
        }
      },
      "58": {
        start: {
          line: 123,
          column: 20
        },
        end: {
          line: 123,
          column: 29
        }
      },
      "59": {
        start: {
          line: 124,
          column: 16
        },
        end: {
          line: 129,
          column: 17
        }
      },
      "60": {
        start: {
          line: 125,
          column: 20
        },
        end: {
          line: 125,
          column: 48
        }
      },
      "61": {
        start: {
          line: 128,
          column: 20
        },
        end: {
          line: 128,
          column: 71
        }
      },
      "62": {
        start: {
          line: 131,
          column: 12
        },
        end: {
          line: 131,
          column: 45
        }
      },
      "63": {
        start: {
          line: 134,
          column: 12
        },
        end: {
          line: 134,
          column: 59
        }
      },
      "64": {
        start: {
          line: 135,
          column: 12
        },
        end: {
          line: 135,
          column: 24
        }
      },
      "65": {
        start: {
          line: 139,
          column: 8
        },
        end: {
          line: 158,
          column: 9
        }
      },
      "66": {
        start: {
          line: 141,
          column: 32
        },
        end: {
          line: 141,
          column: 68
        }
      },
      "67": {
        start: {
          line: 143,
          column: 12
        },
        end: {
          line: 145,
          column: 13
        }
      },
      "68": {
        start: {
          line: 144,
          column: 16
        },
        end: {
          line: 144,
          column: 76
        }
      },
      "69": {
        start: {
          line: 147,
          column: 12
        },
        end: {
          line: 149,
          column: 13
        }
      },
      "70": {
        start: {
          line: 148,
          column: 16
        },
        end: {
          line: 148,
          column: 59
        }
      },
      "71": {
        start: {
          line: 150,
          column: 12
        },
        end: {
          line: 150,
          column: 72
        }
      },
      "72": {
        start: {
          line: 151,
          column: 12
        },
        end: {
          line: 151,
          column: 93
        }
      },
      "73": {
        start: {
          line: 152,
          column: 12
        },
        end: {
          line: 152,
          column: 91
        }
      },
      "74": {
        start: {
          line: 153,
          column: 12
        },
        end: {
          line: 153,
          column: 85
        }
      },
      "75": {
        start: {
          line: 156,
          column: 12
        },
        end: {
          line: 156,
          column: 65
        }
      },
      "76": {
        start: {
          line: 157,
          column: 12
        },
        end: {
          line: 157,
          column: 103
        }
      },
      "77": {
        start: {
          line: 166,
          column: 8
        },
        end: {
          line: 172,
          column: 9
        }
      },
      "78": {
        start: {
          line: 167,
          column: 32
        },
        end: {
          line: 167,
          column: 105
        }
      },
      "79": {
        start: {
          line: 167,
          column: 80
        },
        end: {
          line: 167,
          column: 104
        }
      },
      "80": {
        start: {
          line: 168,
          column: 32
        },
        end: {
          line: 168,
          column: 54
        }
      },
      "81": {
        start: {
          line: 169,
          column: 12
        },
        end: {
          line: 171,
          column: 13
        }
      },
      "82": {
        start: {
          line: 170,
          column: 16
        },
        end: {
          line: 170,
          column: 105
        }
      },
      "83": {
        start: {
          line: 174,
          column: 8
        },
        end: {
          line: 183,
          column: 9
        }
      },
      "84": {
        start: {
          line: 175,
          column: 12
        },
        end: {
          line: 177,
          column: 13
        }
      },
      "85": {
        start: {
          line: 176,
          column: 16
        },
        end: {
          line: 176,
          column: 110
        }
      },
      "86": {
        start: {
          line: 178,
          column: 12
        },
        end: {
          line: 182,
          column: 13
        }
      },
      "87": {
        start: {
          line: 179,
          column: 16
        },
        end: {
          line: 181,
          column: 17
        }
      },
      "88": {
        start: {
          line: 180,
          column: 20
        },
        end: {
          line: 180,
          column: 112
        }
      },
      "89": {
        start: {
          line: 192,
          column: 8
        },
        end: {
          line: 192,
          column: 63
        }
      },
      "90": {
        start: {
          line: 194,
          column: 21
        },
        end: {
          line: 194,
          column: 43
        }
      },
      "91": {
        start: {
          line: 195,
          column: 8
        },
        end: {
          line: 204,
          column: 9
        }
      },
      "92": {
        start: {
          line: 196,
          column: 12
        },
        end: {
          line: 203,
          column: 13
        }
      },
      "93": {
        start: {
          line: 197,
          column: 16
        },
        end: {
          line: 197,
          column: 55
        }
      },
      "94": {
        start: {
          line: 198,
          column: 16
        },
        end: {
          line: 198,
          column: 23
        }
      },
      "95": {
        start: {
          line: 202,
          column: 16
        },
        end: {
          line: 202,
          column: 90
        }
      },
      "96": {
        start: {
          line: 206,
          column: 8
        },
        end: {
          line: 214,
          column: 9
        }
      },
      "97": {
        start: {
          line: 207,
          column: 12
        },
        end: {
          line: 213,
          column: 13
        }
      },
      "98": {
        start: {
          line: 208,
          column: 16
        },
        end: {
          line: 208,
          column: 46
        }
      },
      "99": {
        start: {
          line: 209,
          column: 16
        },
        end: {
          line: 209,
          column: 23
        }
      },
      "100": {
        start: {
          line: 212,
          column: 16
        },
        end: {
          line: 212,
          column: 80
        }
      },
      "101": {
        start: {
          line: 216,
          column: 8
        },
        end: {
          line: 219,
          column: 11
        }
      },
      "102": {
        start: {
          line: 227,
          column: 8
        },
        end: {
          line: 227,
          column: 52
        }
      },
      "103": {
        start: {
          line: 229,
          column: 8
        },
        end: {
          line: 237,
          column: 9
        }
      },
      "104": {
        start: {
          line: 230,
          column: 12
        },
        end: {
          line: 236,
          column: 13
        }
      },
      "105": {
        start: {
          line: 231,
          column: 16
        },
        end: {
          line: 231,
          column: 46
        }
      },
      "106": {
        start: {
          line: 232,
          column: 16
        },
        end: {
          line: 232,
          column: 23
        }
      },
      "107": {
        start: {
          line: 235,
          column: 16
        },
        end: {
          line: 235,
          column: 80
        }
      },
      "108": {
        start: {
          line: 239,
          column: 8
        },
        end: {
          line: 239,
          column: 95
        }
      },
      "109": {
        start: {
          line: 243,
          column: 8
        },
        end: {
          line: 247,
          column: 9
        }
      },
      "110": {
        start: {
          line: 244,
          column: 27
        },
        end: {
          line: 244,
          column: 47
        }
      },
      "111": {
        start: {
          line: 245,
          column: 12
        },
        end: {
          line: 246,
          column: 30
        }
      },
      "112": {
        start: {
          line: 246,
          column: 16
        },
        end: {
          line: 246,
          column: 30
        }
      },
      "113": {
        start: {
          line: 250,
          column: 8
        },
        end: {
          line: 255,
          column: 9
        }
      },
      "114": {
        start: {
          line: 251,
          column: 12
        },
        end: {
          line: 251,
          column: 54
        }
      },
      "115": {
        start: {
          line: 254,
          column: 12
        },
        end: {
          line: 254,
          column: 38
        }
      },
      "116": {
        start: {
          line: 257,
          column: 8
        },
        end: {
          line: 263,
          column: 9
        }
      },
      "117": {
        start: {
          line: 258,
          column: 27
        },
        end: {
          line: 258,
          column: 70
        }
      },
      "118": {
        start: {
          line: 259,
          column: 37
        },
        end: {
          line: 259,
          column: 76
        }
      },
      "119": {
        start: {
          line: 260,
          column: 12
        },
        end: {
          line: 262,
          column: 13
        }
      },
      "120": {
        start: {
          line: 261,
          column: 16
        },
        end: {
          line: 261,
          column: 55
        }
      },
      "121": {
        start: {
          line: 265,
          column: 8
        },
        end: {
          line: 265,
          column: 55
        }
      },
      "122": {
        start: {
          line: 267,
          column: 8
        },
        end: {
          line: 269,
          column: 9
        }
      },
      "123": {
        start: {
          line: 268,
          column: 12
        },
        end: {
          line: 268,
          column: 41
        }
      },
      "124": {
        start: {
          line: 270,
          column: 8
        },
        end: {
          line: 270,
          column: 22
        }
      },
      "125": {
        start: {
          line: 274,
          column: 8
        },
        end: {
          line: 279,
          column: 9
        }
      },
      "126": {
        start: {
          line: 275,
          column: 29
        },
        end: {
          line: 275,
          column: 49
        }
      },
      "127": {
        start: {
          line: 276,
          column: 27
        },
        end: {
          line: 276,
          column: 51
        }
      },
      "128": {
        start: {
          line: 277,
          column: 12
        },
        end: {
          line: 278,
          column: 30
        }
      },
      "129": {
        start: {
          line: 278,
          column: 16
        },
        end: {
          line: 278,
          column: 30
        }
      },
      "130": {
        start: {
          line: 280,
          column: 21
        },
        end: {
          line: 280,
          column: 60
        }
      },
      "131": {
        start: {
          line: 282,
          column: 8
        },
        end: {
          line: 284,
          column: 9
        }
      },
      "132": {
        start: {
          line: 283,
          column: 12
        },
        end: {
          line: 283,
          column: 52
        }
      },
      "133": {
        start: {
          line: 286,
          column: 8
        },
        end: {
          line: 289,
          column: 9
        }
      },
      "134": {
        start: {
          line: 287,
          column: 29
        },
        end: {
          line: 287,
          column: 49
        }
      },
      "135": {
        start: {
          line: 288,
          column: 12
        },
        end: {
          line: 288,
          column: 45
        }
      },
      "136": {
        start: {
          line: 290,
          column: 8
        },
        end: {
          line: 290,
          column: 22
        }
      },
      "137": {
        start: {
          line: 294,
          column: 32
        },
        end: {
          line: 294,
          column: 69
        }
      },
      "138": {
        start: {
          line: 295,
          column: 27
        },
        end: {
          line: 295,
          column: 48
        }
      },
      "139": {
        start: {
          line: 296,
          column: 8
        },
        end: {
          line: 303,
          column: 10
        }
      },
      "140": {
        start: {
          line: 307,
          column: 8
        },
        end: {
          line: 309,
          column: 9
        }
      },
      "141": {
        start: {
          line: 308,
          column: 12
        },
        end: {
          line: 308,
          column: 125
        }
      },
      "142": {
        start: {
          line: 310,
          column: 8
        },
        end: {
          line: 328,
          column: 9
        }
      },
      "143": {
        start: {
          line: 312,
          column: 12
        },
        end: {
          line: 317,
          column: 13
        }
      },
      "144": {
        start: {
          line: 313,
          column: 33
        },
        end: {
          line: 313,
          column: 49
        }
      },
      "145": {
        start: {
          line: 314,
          column: 31
        },
        end: {
          line: 314,
          column: 55
        }
      },
      "146": {
        start: {
          line: 315,
          column: 16
        },
        end: {
          line: 316,
          column: 34
        }
      },
      "147": {
        start: {
          line: 316,
          column: 20
        },
        end: {
          line: 316,
          column: 34
        }
      },
      "148": {
        start: {
          line: 318,
          column: 27
        },
        end: {
          line: 318,
          column: 76
        }
      },
      "149": {
        start: {
          line: 320,
          column: 12
        },
        end: {
          line: 323,
          column: 13
        }
      },
      "150": {
        start: {
          line: 321,
          column: 33
        },
        end: {
          line: 321,
          column: 49
        }
      },
      "151": {
        start: {
          line: 322,
          column: 16
        },
        end: {
          line: 322,
          column: 49
        }
      },
      "152": {
        start: {
          line: 324,
          column: 12
        },
        end: {
          line: 324,
          column: 26
        }
      },
      "153": {
        start: {
          line: 327,
          column: 12
        },
        end: {
          line: 327,
          column: 75
        }
      },
      "154": {
        start: {
          line: 331,
          column: 0
        },
        end: {
          line: 331,
          column: 44
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 29,
            column: 7
          },
          end: {
            line: 47,
            column: 5
          }
        },
        line: 29
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 54,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        },
        loc: {
          start: {
            line: 54,
            column: 26
          },
          end: {
            line: 65,
            column: 5
          }
        },
        line: 54
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 70,
            column: 4
          },
          end: {
            line: 70,
            column: 5
          }
        },
        loc: {
          start: {
            line: 70,
            column: 19
          },
          end: {
            line: 75,
            column: 5
          }
        },
        line: 70
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 81,
            column: 4
          },
          end: {
            line: 81,
            column: 5
          }
        },
        loc: {
          start: {
            line: 81,
            column: 22
          },
          end: {
            line: 97,
            column: 5
          }
        },
        line: 81
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 102,
            column: 4
          },
          end: {
            line: 102,
            column: 5
          }
        },
        loc: {
          start: {
            line: 102,
            column: 21
          },
          end: {
            line: 105,
            column: 5
          }
        },
        line: 102
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 111,
            column: 4
          },
          end: {
            line: 111,
            column: 5
          }
        },
        loc: {
          start: {
            line: 111,
            column: 25
          },
          end: {
            line: 137,
            column: 5
          }
        },
        line: 111
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 138,
            column: 4
          },
          end: {
            line: 138,
            column: 5
          }
        },
        loc: {
          start: {
            line: 138,
            column: 23
          },
          end: {
            line: 159,
            column: 5
          }
        },
        line: 138
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 164,
            column: 4
          },
          end: {
            line: 164,
            column: 5
          }
        },
        loc: {
          start: {
            line: 164,
            column: 23
          },
          end: {
            line: 184,
            column: 5
          }
        },
        line: 164
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 167,
            column: 69
          },
          end: {
            line: 167,
            column: 70
          }
        },
        loc: {
          start: {
            line: 167,
            column: 80
          },
          end: {
            line: 167,
            column: 104
          }
        },
        line: 167
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 191,
            column: 4
          },
          end: {
            line: 191,
            column: 5
          }
        },
        loc: {
          start: {
            line: 191,
            column: 50
          },
          end: {
            line: 220,
            column: 5
          }
        },
        line: 191
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 226,
            column: 4
          },
          end: {
            line: 226,
            column: 5
          }
        },
        loc: {
          start: {
            line: 226,
            column: 46
          },
          end: {
            line: 240,
            column: 5
          }
        },
        line: 226
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 241,
            column: 4
          },
          end: {
            line: 241,
            column: 5
          }
        },
        loc: {
          start: {
            line: 241,
            column: 16
          },
          end: {
            line: 271,
            column: 5
          }
        },
        line: 241
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 272,
            column: 4
          },
          end: {
            line: 272,
            column: 5
          }
        },
        loc: {
          start: {
            line: 272,
            column: 20
          },
          end: {
            line: 291,
            column: 5
          }
        },
        line: 272
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 293,
            column: 4
          },
          end: {
            line: 293,
            column: 5
          }
        },
        loc: {
          start: {
            line: 293,
            column: 33
          },
          end: {
            line: 304,
            column: 5
          }
        },
        line: 293
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 306,
            column: 4
          },
          end: {
            line: 306,
            column: 5
          }
        },
        loc: {
          start: {
            line: 306,
            column: 45
          },
          end: {
            line: 329,
            column: 5
          }
        },
        line: 306
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 16
          },
          end: {
            line: 29,
            column: 5
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 18,
            column: 26
          },
          end: {
            line: 29,
            column: 5
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 43,
            column: 8
          },
          end: {
            line: 45,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 43,
            column: 8
          },
          end: {
            line: 45,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 43
      },
      "2": {
        loc: {
          start: {
            line: 55,
            column: 8
          },
          end: {
            line: 57,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 55,
            column: 8
          },
          end: {
            line: 57,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 55
      },
      "3": {
        loc: {
          start: {
            line: 59,
            column: 8
          },
          end: {
            line: 61,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 59,
            column: 8
          },
          end: {
            line: 61,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 59
      },
      "4": {
        loc: {
          start: {
            line: 82,
            column: 8
          },
          end: {
            line: 84,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 82,
            column: 8
          },
          end: {
            line: 84,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 82
      },
      "5": {
        loc: {
          start: {
            line: 85,
            column: 8
          },
          end: {
            line: 87,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 8
          },
          end: {
            line: 87,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 85
      },
      "6": {
        loc: {
          start: {
            line: 88,
            column: 22
          },
          end: {
            line: 88,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 88,
            column: 22
          },
          end: {
            line: 88,
            column: 42
          }
        }, {
          start: {
            line: 88,
            column: 46
          },
          end: {
            line: 88,
            column: 48
          }
        }],
        line: 88
      },
      "7": {
        loc: {
          start: {
            line: 93,
            column: 8
          },
          end: {
            line: 95,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 93,
            column: 8
          },
          end: {
            line: 95,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 93
      },
      "8": {
        loc: {
          start: {
            line: 122,
            column: 16
          },
          end: {
            line: 123,
            column: 29
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 122,
            column: 16
          },
          end: {
            line: 123,
            column: 29
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 122
      },
      "9": {
        loc: {
          start: {
            line: 143,
            column: 12
          },
          end: {
            line: 145,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 143,
            column: 12
          },
          end: {
            line: 145,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 143
      },
      "10": {
        loc: {
          start: {
            line: 147,
            column: 12
          },
          end: {
            line: 149,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 147,
            column: 12
          },
          end: {
            line: 149,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 147
      },
      "11": {
        loc: {
          start: {
            line: 151,
            column: 42
          },
          end: {
            line: 151,
            column: 91
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 151,
            column: 69
          },
          end: {
            line: 151,
            column: 78
          }
        }, {
          start: {
            line: 151,
            column: 81
          },
          end: {
            line: 151,
            column: 91
          }
        }],
        line: 151
      },
      "12": {
        loc: {
          start: {
            line: 152,
            column: 41
          },
          end: {
            line: 152,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 152,
            column: 67
          },
          end: {
            line: 152,
            column: 76
          }
        }, {
          start: {
            line: 152,
            column: 79
          },
          end: {
            line: 152,
            column: 89
          }
        }],
        line: 152
      },
      "13": {
        loc: {
          start: {
            line: 153,
            column: 38
          },
          end: {
            line: 153,
            column: 83
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 153,
            column: 61
          },
          end: {
            line: 153,
            column: 70
          }
        }, {
          start: {
            line: 153,
            column: 73
          },
          end: {
            line: 153,
            column: 83
          }
        }],
        line: 153
      },
      "14": {
        loc: {
          start: {
            line: 169,
            column: 12
          },
          end: {
            line: 171,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 169,
            column: 12
          },
          end: {
            line: 171,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 169
      },
      "15": {
        loc: {
          start: {
            line: 169,
            column: 16
          },
          end: {
            line: 169,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 169,
            column: 16
          },
          end: {
            line: 169,
            column: 28
          }
        }, {
          start: {
            line: 169,
            column: 32
          },
          end: {
            line: 169,
            column: 44
          }
        }],
        line: 169
      },
      "16": {
        loc: {
          start: {
            line: 175,
            column: 12
          },
          end: {
            line: 177,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 175,
            column: 12
          },
          end: {
            line: 177,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 175
      },
      "17": {
        loc: {
          start: {
            line: 179,
            column: 16
          },
          end: {
            line: 181,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 179,
            column: 16
          },
          end: {
            line: 181,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 179
      },
      "18": {
        loc: {
          start: {
            line: 195,
            column: 8
          },
          end: {
            line: 204,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 195,
            column: 8
          },
          end: {
            line: 204,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 195
      },
      "19": {
        loc: {
          start: {
            line: 243,
            column: 8
          },
          end: {
            line: 247,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 243,
            column: 8
          },
          end: {
            line: 247,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 243
      },
      "20": {
        loc: {
          start: {
            line: 245,
            column: 12
          },
          end: {
            line: 246,
            column: 30
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 245,
            column: 12
          },
          end: {
            line: 246,
            column: 30
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 245
      },
      "21": {
        loc: {
          start: {
            line: 250,
            column: 8
          },
          end: {
            line: 255,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 250,
            column: 8
          },
          end: {
            line: 255,
            column: 9
          }
        }, {
          start: {
            line: 253,
            column: 13
          },
          end: {
            line: 255,
            column: 9
          }
        }],
        line: 250
      },
      "22": {
        loc: {
          start: {
            line: 257,
            column: 8
          },
          end: {
            line: 263,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 257,
            column: 8
          },
          end: {
            line: 263,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 257
      },
      "23": {
        loc: {
          start: {
            line: 258,
            column: 27
          },
          end: {
            line: 258,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 258,
            column: 27
          },
          end: {
            line: 258,
            column: 64
          }
        }, {
          start: {
            line: 258,
            column: 68
          },
          end: {
            line: 258,
            column: 70
          }
        }],
        line: 258
      },
      "24": {
        loc: {
          start: {
            line: 260,
            column: 12
          },
          end: {
            line: 262,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 260,
            column: 12
          },
          end: {
            line: 262,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 260
      },
      "25": {
        loc: {
          start: {
            line: 260,
            column: 16
          },
          end: {
            line: 260,
            column: 72
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 260,
            column: 16
          },
          end: {
            line: 260,
            column: 39
          }
        }, {
          start: {
            line: 260,
            column: 43
          },
          end: {
            line: 260,
            column: 72
          }
        }],
        line: 260
      },
      "26": {
        loc: {
          start: {
            line: 267,
            column: 8
          },
          end: {
            line: 269,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 267,
            column: 8
          },
          end: {
            line: 269,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 267
      },
      "27": {
        loc: {
          start: {
            line: 274,
            column: 8
          },
          end: {
            line: 279,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 274,
            column: 8
          },
          end: {
            line: 279,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 274
      },
      "28": {
        loc: {
          start: {
            line: 277,
            column: 12
          },
          end: {
            line: 278,
            column: 30
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 277,
            column: 12
          },
          end: {
            line: 278,
            column: 30
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 277
      },
      "29": {
        loc: {
          start: {
            line: 282,
            column: 8
          },
          end: {
            line: 284,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 282,
            column: 8
          },
          end: {
            line: 284,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 282
      },
      "30": {
        loc: {
          start: {
            line: 286,
            column: 8
          },
          end: {
            line: 289,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 286,
            column: 8
          },
          end: {
            line: 289,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 286
      },
      "31": {
        loc: {
          start: {
            line: 299,
            column: 25
          },
          end: {
            line: 302,
            column: 34
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 299,
            column: 52
          },
          end: {
            line: 302,
            column: 13
          }
        }, {
          start: {
            line: 302,
            column: 16
          },
          end: {
            line: 302,
            column: 34
          }
        }],
        line: 299
      },
      "32": {
        loc: {
          start: {
            line: 306,
            column: 31
          },
          end: {
            line: 306,
            column: 43
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 306,
            column: 41
          },
          end: {
            line: 306,
            column: 43
          }
        }],
        line: 306
      },
      "33": {
        loc: {
          start: {
            line: 307,
            column: 8
          },
          end: {
            line: 309,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 307,
            column: 8
          },
          end: {
            line: 309,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 307
      },
      "34": {
        loc: {
          start: {
            line: 312,
            column: 12
          },
          end: {
            line: 317,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 312,
            column: 12
          },
          end: {
            line: 317,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 312
      },
      "35": {
        loc: {
          start: {
            line: 315,
            column: 16
          },
          end: {
            line: 316,
            column: 34
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 315,
            column: 16
          },
          end: {
            line: 316,
            column: 34
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 315
      },
      "36": {
        loc: {
          start: {
            line: 320,
            column: 12
          },
          end: {
            line: 323,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 320,
            column: 12
          },
          end: {
            line: 323,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 320
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0,
      "144": 0,
      "145": 0,
      "146": 0,
      "147": 0,
      "148": 0,
      "149": 0,
      "150": 0,
      "151": 0,
      "152": 0,
      "153": 0,
      "154": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0]
    },
    inputSourceMap: {
      file: "C:\\Users\\hongping\\CascadeProjects\\json-sage-ai-agent\\src\\core\\Workflow.ts",
      mappings: ";;;AAAA,iDAAsD;AACtD,uDAAoD;AACpD,iEAA8D;AAC9D,+CAA+C;AAC/C,2CAA4C;AAC5C,mCAAqC;AACrC,uDAA6F;AAC7F,kDAAqD;AACrD,0DAAuD;AAEvD,uDAAoD;AAyBpD;;GAEG;AACH,MAAa,gBAAgB;IAiBzB,YAAoB,UAA2B;QAC3C,KAAK,EAAE,IAAI;QACX,WAAW,EAAE,IAAI;QACjB,aAAa,EAAE,IAAI;QACnB,YAAY,EAAE,IAAI;QAClB,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,KAAK;QACd,UAAU,EAAE,CAAC;QACb,UAAU,EAAE,IAAI;KACnB;QAXmB,YAAO,GAAP,OAAO,CAW1B;QAnBD,kBAAkB;QACV,UAAK,GAA0B,IAAI,GAAG,EAAE,CAAC;QACzC,UAAK,GAA0B,IAAI,GAAG,EAAE,CAAC;QACzC,gBAAW,GAAqB,IAAI,GAAG,EAAE,CAAC;QAElD,iBAAiB;QACT,kBAAa,GAAqE,EAAE,CAAC;QAczF,IAAI,CAAC,QAAQ,GAAG,IAAI,mCAAoB,CAAC,EAAE,aAAa,EAAE,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC;QACnF,IAAI,CAAC,QAAQ,GAAG,IAAI,iCAAe,EAAE,CAAC;QACtC,IAAI,CAAC,SAAS,GAAG,IAAI,2CAAoB,EAAE,CAAC;QAC5C,IAAI,CAAC,UAAU,GAAG,IAAI,4BAAc,EAAE,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG,IAAI,yBAAa,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;QACzD,IAAI,CAAC,KAAK,GAAG,IAAI,kBAAU,EAAE,CAAC;QAE9B,IAAI,OAAO,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,iCAAe,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;SACzD;QAED,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED;;;;;OAKG;IACH,GAAG,CAAC,EAAU,EAAE,IAAc,EAAE,MAAY;QACxC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YACpB,MAAM,IAAI,6BAAa,CAAC,iBAAiB,EAAE,kBAAkB,CAAC,CAAC;SAClE;QAED,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACf,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC1B;QAED,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;QAEjC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;;OAGG;IACH,OAAO,CAAC,KAA0D;QAC9D,KAAK,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,KAAK,EAAE;YACtC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;SAC9B;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;;;OAIG;IACH,OAAO,CAAC,IAAY,EAAE,EAAU;QAC5B,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YACvB,MAAM,IAAI,6BAAa,CAAC,gBAAgB,IAAI,aAAa,CAAC,CAAC;SAC9D;QACD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YACrB,MAAM,IAAI,6BAAa,CAAC,gBAAgB,EAAE,aAAa,CAAC,CAAC;SAC5D;QAED,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;QACzC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACf,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAE5B,kCAAkC;QAClC,MAAM,MAAM,GAAG,2BAAe,CAAC,0BAA0B,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAC1F,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YACnB,MAAM,IAAI,6BAAa,CAAC,iCAAiC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SACtF;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;;OAGG;IACH,OAAO,CAAC,OAAkE;QACtE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;;;OAIG;IACH,KAAK,CAAC,OAAO,CAAC,KAAU;QACpB,MAAM,OAAO,GAAG,IAAI,iCAAe,EAAE,CAAC;QACtC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAEhC,IAAI;YACA,8BAA8B;YAC9B,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAExB,sBAAsB;YACtB,MAAM,cAAc,GAAG,2BAAe,CAAC,eAAe,CAClD,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CACjC,CAAC;YAEF,yBAAyB;YACzB,KAAK,MAAM,MAAM,IAAI,cAAc,EAAE;gBACjC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpC,IAAI,CAAC,IAAI;oBAAE,SAAS;gBAEpB,IAAI;oBACA,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;iBAC/B;gBAAC,OAAO,KAAK,EAAE;oBACZ,MAAM,IAAI,CAAC,eAAe,CAAC,KAAc,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;iBAC/D;aACJ;YAED,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;SACpC;QAAC,OAAO,KAAK,EAAE;YACZ,MAAM,IAAI,CAAC,mBAAmB,CAAC,KAAc,EAAE,OAAO,CAAC,CAAC;YACxD,MAAM,KAAK,CAAC;SACf;IACL,CAAC;IAEO,KAAK,CAAC,UAAU;QACpB,IAAI;YACA,SAAS;YACT,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;YAEzD,SAAS;YACT,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;gBACpB,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;aAC/D;YAED,OAAO;YACP,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;gBAC3B,MAAM,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;aAC9C;YAED,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;YAC5D,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;YACjF,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;YAC/E,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;SAC5E;QAAC,OAAO,KAAK,EAAE;YACZ,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;YACrD,MAAM,IAAI,6BAAa,CAAC,+BAA+B,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;SAC9E;IACL,CAAC;IAED;;;OAGG;IACK,gBAAgB;QACpB,2BAA2B;QAC3B,KAAK,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE;YAC/B,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,CACpD,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CACtC,CAAC;YACF,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAE3C,IAAI,CAAC,WAAW,IAAI,CAAC,WAAW,EAAE;gBAC9B,MAAM,IAAI,6BAAa,CAAC,SAAS,MAAM,gCAAgC,CAAC,CAAC;aAC5E;SACJ;QAED,mCAAmC;QACnC,KAAK,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE;YACtC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;gBACvB,MAAM,IAAI,6BAAa,CAAC,6CAA6C,IAAI,GAAG,CAAC,CAAC;aACjF;YAED,KAAK,MAAM,EAAE,IAAI,OAAO,EAAE;gBACtB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;oBACrB,MAAM,IAAI,6BAAa,CAAC,6CAA6C,EAAE,GAAG,CAAC,CAAC;iBAC/E;aACJ;SACJ;IACL,CAAC;IAED;;;;;OAKG;IACK,KAAK,CAAC,eAAe,CACzB,KAAY,EACZ,MAAc,EACd,OAAwB;QAExB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,kBAAkB,MAAM,IAAI,EAAE,KAAK,CAAC,CAAC;QAEvD,kCAAkC;QAClC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,IAAI,EAAE;YACN,IAAI;gBACA,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;gBACvC,OAAO;aACV;YAAC,OAAO,YAAY,EAAE;gBACnB,2DAA2D;gBAC3D,OAAO,CAAC,GAAG,CAAC,KAAK,CACb,SAAS,MAAM,yBAAyB,EACxC,YAAY,CACf,CAAC;aACL;SACJ;QAED,4BAA4B;QAC5B,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,aAAa,EAAE;YACtC,IAAI;gBACA,MAAM,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;gBAC9B,OAAO;aACV;YAAC,OAAO,YAAY,EAAE;gBACnB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,8BAA8B,EAAE,YAAY,CAAC,CAAC;aACnE;SACJ;QAED,wCAAwC;QACxC,MAAM,IAAI,6BAAa,CAAC,SAAS,MAAM,oBAAoB,EAAE;YACzD,KAAK,EAAE,KAAK;YACZ,MAAM;SACT,CAAC,CAAC;IACP,CAAC;IAED;;;;OAIG;IACK,KAAK,CAAC,mBAAmB,CAC7B,KAAY,EACZ,OAAwB;QAExB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;QAE5C,4BAA4B;QAC5B,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,aAAa,EAAE;YACtC,IAAI;gBACA,MAAM,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;gBAC9B,OAAO;aACV;YAAC,OAAO,YAAY,EAAE;gBACnB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,8BAA8B,EAAE,YAAY,CAAC,CAAC;aACnE;SACJ;QAED,wCAAwC;QACxC,MAAM,IAAI,6BAAa,CAAC,2BAA2B,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;IAC3E,CAAC;IAED,KAAK,CAAC,IAAY;QACd,OAAO;QACP,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YACtB,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,MAAM;gBAAE,OAAO,MAAM,CAAC;SAC7B;QAED,IAAI,MAAM,CAAC;QAEX,YAAY;QACZ,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YAC1B,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;SAC7C;aAAM;YACH,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;SAC7B;QAED,OAAO;QACP,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;YACzB,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YAC3D,MAAM,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAEjE,IAAI,CAAC,gBAAgB,CAAC,KAAK,IAAI,gBAAgB,CAAC,YAAY,EAAE;gBAC1D,MAAM,GAAG,gBAAgB,CAAC,YAAY,CAAC;aAC1C;SACJ;QAED,OAAO;QACP,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAE/C,OAAO;QACP,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YACtB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAChC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,SAAS,CAAC,IAAS;QACf,OAAO;QACP,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YACtB,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACtC,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACxC,IAAI,MAAM;gBAAE,OAAO,MAAM,CAAC;SAC7B;QAED,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAErD,WAAW;QACX,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YAC1B,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC3C;QAED,OAAO;QACP,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YACtB,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;SACpC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,SAAS;IACT,KAAK,CAAC,oBAAoB;QACtB,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;QAC9D,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QAEzC,OAAO;YACH,GAAG,eAAe;YAClB,KAAK,EAAE,UAAU;YACjB,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;gBACpC,OAAO,EAAE,IAAI;gBACb,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,eAAe,CAAC;aAChE,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE;SACzB,CAAC;IACN,CAAC;IAED,mCAAmC;IACnC,KAAK,CAAC,cAAc,CAAC,IAAY,EAAE,UAAmC,EAAE;QACpE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,MAAM,IAAI,KAAK,CAAC,+FAA+F,CAAC,CAAC;SACpH;QAED,IAAI;YACA,OAAO;YACP,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;gBACtB,MAAM,QAAQ,GAAG,UAAU,IAAI,EAAE,CAAC;gBAClC,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACxC,IAAI,MAAM;oBAAE,OAAO,MAAM,CAAC;aAC7B;YAED,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YAEjE,OAAO;YACP,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;gBACtB,MAAM,QAAQ,GAAG,UAAU,IAAI,EAAE,CAAC;gBAClC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACpC;YAED,OAAO,MAAM,CAAC;SACjB;QAAC,OAAO,KAAK,EAAE;YACZ,MAAM,IAAI,KAAK,CAAC,8BAA8B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;SAClE;IACL,CAAC;CACJ;AAzXD,4CAyXC",
      names: [],
      sources: ["C:\\Users\\hongping\\CascadeProjects\\json-sage-ai-agent\\src\\core\\Workflow.ts"],
      sourcesContent: ["import { JsonSageAutoDetector } from './AutoDetector';\r\nimport { ProjectAnalyzer } from './ProjectAnalyzer';\r\nimport { PerformanceOptimizer } from './PerformanceOptimizer';\r\nimport { JsonCompressor } from './compression';\r\nimport { JsonValidator } from './validator';\r\nimport { SmartCache } from './cache';\r\nimport { DeepSeekService, DeepSeekConfig, SchemaGenerationOptions } from './DeepSeekService';\r\nimport { DependencyUtils } from '../utils/NodeUtils';\r\nimport { WorkflowError } from './errors/WorkflowError';\r\nimport { BaseNode } from './BaseNode';\r\nimport { WorkflowContext } from './WorkflowContext';\r\n\r\ninterface WorkflowOptions {\r\n    watch: boolean;\r\n    autoProcess: boolean;\r\n    generateTypes: boolean;\r\n    autoOptimize: boolean;\r\n    compression?: boolean;\r\n    validation?: boolean;\r\n    caching?: boolean;\r\n    deepseek?: DeepSeekConfig;\r\n    /**\r\n     * Maximum execution time for the workflow in milliseconds\r\n     */\r\n    timeout?: number;\r\n    /**\r\n     * Maximum number of retries for failed nodes\r\n     */\r\n    maxRetries?: number;\r\n    /**\r\n     * Delay between retries in milliseconds\r\n     */\r\n    retryDelay?: number;\r\n}\r\n\r\n/**\r\n * Represents a JSON processing workflow with advanced features\r\n */\r\nexport class JsonSageWorkflow {\r\n    private detector: JsonSageAutoDetector;\r\n    private analyzer: ProjectAnalyzer;\r\n    private optimizer: PerformanceOptimizer;\r\n    private compressor: JsonCompressor;\r\n    private validator: JsonValidator;\r\n    private cache: SmartCache<any>;\r\n    private deepseek?: DeepSeekService;\r\n    \r\n    // Node management\r\n    private nodes: Map<string, BaseNode> = new Map();\r\n    private edges: Map<string, string[]> = new Map();\r\n    private nodeConfigs: Map<string, any> = new Map();\r\n    \r\n    // Error handling\r\n    private errorHandlers: Array<(error: Error, context: WorkflowContext) => Promise<void>> = [];\r\n\r\n    constructor(private options: WorkflowOptions = {\r\n        watch: true,\r\n        autoProcess: true,\r\n        generateTypes: true,\r\n        autoOptimize: true,\r\n        compression: true,\r\n        validation: true,\r\n        caching: true,\r\n        timeout: 30000,\r\n        maxRetries: 3,\r\n        retryDelay: 1000\r\n    }) {\r\n        this.detector = new JsonSageAutoDetector({ generateTypes: options.generateTypes });\r\n        this.analyzer = new ProjectAnalyzer();\r\n        this.optimizer = new PerformanceOptimizer();\r\n        this.compressor = new JsonCompressor();\r\n        this.validator = new JsonValidator({ autoRepair: true });\r\n        this.cache = new SmartCache();\r\n        \r\n        if (options.deepseek) {\r\n            this.deepseek = new DeepSeekService(options.deepseek);\r\n        }\r\n        \r\n        this.initialize();\r\n    }\r\n\r\n    /**\r\n     * Adds a single node to the workflow\r\n     * @param id - Node identifier\r\n     * @param node - Node instance\r\n     * @param config - Node configuration\r\n     */\r\n    use(id: string, node: BaseNode, config?: any): this {\r\n        if (this.nodes.has(id)) {\r\n            throw new WorkflowError(`Node with ID '${id}' already exists`);\r\n        }\r\n        \r\n        node.setId(id);\r\n        if (config) {\r\n            node.setConfig(config);\r\n        }\r\n        \r\n        this.nodes.set(id, node);\r\n        this.nodeConfigs.set(id, config);\r\n        \r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Adds multiple nodes to the workflow\r\n     * @param nodes - Array of node configurations\r\n     */\r\n    useMany(nodes: Array<{ id: string; node: BaseNode; config?: any }>): this {\r\n        for (const { id, node, config } of nodes) {\r\n            this.use(id, node, config);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Adds a connection between nodes\r\n     * @param from - Source node ID\r\n     * @param to - Target node ID\r\n     */\r\n    connect(from: string, to: string): this {\r\n        if (!this.nodes.has(from)) {\r\n            throw new WorkflowError(`Source node '${from}' not found`);\r\n        }\r\n        if (!this.nodes.has(to)) {\r\n            throw new WorkflowError(`Target node '${to}' not found`);\r\n        }\r\n        \r\n        const edges = this.edges.get(from) || [];\r\n        edges.push(to);\r\n        this.edges.set(from, edges);\r\n        \r\n        // Check for circular dependencies\r\n        const cycles = DependencyUtils.detectCircularDependencies(Object.fromEntries(this.edges));\r\n        if (cycles.length > 0) {\r\n            throw new WorkflowError(`Circular dependency detected: ${cycles[0].join(' -> ')}`);\r\n        }\r\n        \r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Adds a global error handler\r\n     * @param handler - Error handler function\r\n     */\r\n    onError(handler: (error: Error, context: WorkflowContext) => Promise<void>): this {\r\n        this.errorHandlers.push(handler);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Executes the workflow\r\n     * @param input - Input data\r\n     * @returns Processing result\r\n     */\r\n    async execute(input: any): Promise<any> {\r\n        const context = new WorkflowContext();\r\n        context.setData('input', input);\r\n        \r\n        try {\r\n            // Validate workflow structure\r\n            this.validateWorkflow();\r\n            \r\n            // Get execution order\r\n            const executionOrder = DependencyUtils.topologicalSort(\r\n                Object.fromEntries(this.edges)\r\n            );\r\n            \r\n            // Execute nodes in order\r\n            for (const nodeId of executionOrder) {\r\n                const node = this.nodes.get(nodeId);\r\n                if (!node) continue;\r\n                \r\n                try {\r\n                    await node.execute(context);\r\n                } catch (error) {\r\n                    await this.handleNodeError(error as Error, nodeId, context);\r\n                }\r\n            }\r\n            \r\n            return context.getData('output');\r\n        } catch (error) {\r\n            await this.handleWorkflowError(error as Error, context);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    private async initialize() {\r\n        try {\r\n            // \u5206\u6790\u9879\u76EE\u7ED3\u6784\r\n            const projectInfo = await this.analyzer.analyzeProject();\r\n            \r\n            // \u8BBE\u7F6E\u81EA\u52A8\u76D1\u63A7\r\n            if (this.options.watch) {\r\n                this.detector.watchDirectories(projectInfo.jsonDirectories);\r\n            }\r\n\r\n            // \u6027\u80FD\u4F18\u5316\r\n            if (this.options.autoOptimize) {\r\n                await this.optimizer.optimize(projectInfo);\r\n            }\r\n\r\n            console.log('JsonSage initialized with advanced features:');\r\n            console.log('- Compression:', this.options.compression ? 'enabled' : 'disabled');\r\n            console.log('- Validation:', this.options.validation ? 'enabled' : 'disabled');\r\n            console.log('- Caching:', this.options.caching ? 'enabled' : 'disabled');\r\n        } catch (error) {\r\n            console.error('Error initializing JsonSage:', error);\r\n            throw new WorkflowError('Failed to initialize workflow', { cause: error });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Validates workflow configuration\r\n     * @throws {WorkflowError} If validation fails\r\n     */\r\n    private validateWorkflow(): void {\r\n        // Check for isolated nodes\r\n        for (const [nodeId] of this.nodes) {\r\n            const hasIncoming = Array.from(this.edges.values()).some(\r\n                targets => targets.includes(nodeId)\r\n            );\r\n            const hasOutgoing = this.edges.has(nodeId);\r\n            \r\n            if (!hasIncoming && !hasOutgoing) {\r\n                throw new WorkflowError(`Node '${nodeId}' is isolated (no connections)`);\r\n            }\r\n        }\r\n        \r\n        // Check for missing nodes in edges\r\n        for (const [from, targets] of this.edges) {\r\n            if (!this.nodes.has(from)) {\r\n                throw new WorkflowError(`Edge references non-existent source node '${from}'`);\r\n            }\r\n            \r\n            for (const to of targets) {\r\n                if (!this.nodes.has(to)) {\r\n                    throw new WorkflowError(`Edge references non-existent target node '${to}'`);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handles node execution errors\r\n     * @param error - Error that occurred\r\n     * @param nodeId - ID of the failed node\r\n     * @param context - Workflow context\r\n     */\r\n    private async handleNodeError(\r\n        error: Error,\r\n        nodeId: string,\r\n        context: WorkflowContext\r\n    ): Promise<void> {\r\n        context.log.error(`Error in node '${nodeId}':`, error);\r\n        \r\n        // Try node-specific error handler\r\n        const node = this.nodes.get(nodeId);\r\n        if (node) {\r\n            try {\r\n                await node.handleError(error, context);\r\n                return;\r\n            } catch (handlerError) {\r\n                // Node error handler failed, continue with global handlers\r\n                context.log.error(\r\n                    `Node '${nodeId}' error handler failed:`,\r\n                    handlerError\r\n                );\r\n            }\r\n        }\r\n        \r\n        // Try global error handlers\r\n        for (const handler of this.errorHandlers) {\r\n            try {\r\n                await handler(error, context);\r\n                return;\r\n            } catch (handlerError) {\r\n                context.log.error('Global error handler failed:', handlerError);\r\n            }\r\n        }\r\n        \r\n        // If all handlers fail, throw the error\r\n        throw new WorkflowError(`Node '${nodeId}' execution failed`, {\r\n            cause: error,\r\n            nodeId\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles workflow-level errors\r\n     * @param error - Error that occurred\r\n     * @param context - Workflow context\r\n     */\r\n    private async handleWorkflowError(\r\n        error: Error,\r\n        context: WorkflowContext\r\n    ): Promise<void> {\r\n        context.log.error('Workflow error:', error);\r\n        \r\n        // Try global error handlers\r\n        for (const handler of this.errorHandlers) {\r\n            try {\r\n                await handler(error, context);\r\n                return;\r\n            } catch (handlerError) {\r\n                context.log.error('Global error handler failed:', handlerError);\r\n            }\r\n        }\r\n        \r\n        // If all handlers fail, throw the error\r\n        throw new WorkflowError('Workflow execution failed', { cause: error });\r\n    }\r\n\r\n    parse(data: string) {\r\n        // \u68C0\u67E5\u7F13\u5B58\r\n        if (this.options.caching) {\r\n            const cached = this.cache.get(data);\r\n            if (cached) return cached;\r\n        }\r\n\r\n        let result;\r\n        \r\n        // \u89E3\u538B\u7F29\uFF08\u5982\u679C\u9700\u8981\uFF09\r\n        if (this.options.compression) {\r\n            result = this.compressor.decompress(data);\r\n        } else {\r\n            result = JSON.parse(data);\r\n        }\r\n\r\n        // \u9A8C\u8BC1\u6570\u636E\r\n        if (this.options.validation) {\r\n            const schema = this.detector.getTypeDefinition(data) || {};\r\n            const validationResult = this.validator.validate(result, schema);\r\n            \r\n            if (!validationResult.valid && validationResult.repairedData) {\r\n                result = validationResult.repairedData;\r\n            }\r\n        }\r\n\r\n        // \u4F18\u5316\u5904\u7406\r\n        result = this.optimizer.optimizedParse(result);\r\n\r\n        // \u7F13\u5B58\u7ED3\u679C\r\n        if (this.options.caching) {\r\n            this.cache.set(data, result);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    stringify(data: any) {\r\n        // \u68C0\u67E5\u7F13\u5B58\r\n        if (this.options.caching) {\r\n            const cacheKey = JSON.stringify(data);\r\n            const cached = this.cache.get(cacheKey);\r\n            if (cached) return cached;\r\n        }\r\n\r\n        let result = this.optimizer.optimizedStringify(data);\r\n\r\n        // \u538B\u7F29\uFF08\u5982\u679C\u9700\u8981\uFF09\r\n        if (this.options.compression) {\r\n            result = this.compressor.compress(data);\r\n        }\r\n\r\n        // \u7F13\u5B58\u7ED3\u679C\r\n        if (this.options.caching) {\r\n            const cacheKey = JSON.stringify(data);\r\n            this.cache.set(cacheKey, result);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // \u83B7\u53D6\u6027\u80FD\u62A5\u544A\r\n    async getPerformanceReport() {\r\n        const optimizerReport = await this.optimizer.generateReport();\r\n        const cacheStats = this.cache.getStats();\r\n        \r\n        return {\r\n            ...optimizerReport,\r\n            cache: cacheStats,\r\n            compression: this.options.compression ? {\r\n                enabled: true,\r\n                analysis: this.compressor.analyzeCompression(optimizerReport)\r\n            } : { enabled: false }\r\n        };\r\n    }\r\n\r\n    // \u65B0\u589E\uFF1A\u4F7F\u7528 DeepSeek AI \u751F\u6210 JSON Schema\r\n    async generateSchema(json: string, options: SchemaGenerationOptions = {}): Promise<string> {\r\n        if (!this.deepseek) {\r\n            throw new Error('DeepSeek service is not configured. Please provide DeepSeek configuration in the constructor.');\r\n        }\r\n\r\n        try {\r\n            // \u68C0\u67E5\u7F13\u5B58\r\n            if (this.options.caching) {\r\n                const cacheKey = `schema:${json}`;\r\n                const cached = this.cache.get(cacheKey);\r\n                if (cached) return cached;\r\n            }\r\n\r\n            const schema = await this.deepseek.generateSchema(json, options);\r\n\r\n            // \u7F13\u5B58\u7ED3\u679C\r\n            if (this.options.caching) {\r\n                const cacheKey = `schema:${json}`;\r\n                this.cache.set(cacheKey, schema);\r\n            }\r\n\r\n            return schema;\r\n        } catch (error) {\r\n            throw new Error(`Failed to generate schema: ${error.message}`);\r\n        }\r\n    }\r\n}\r\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "b312be9a4840f5b7c63899a603b27516a169284b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1a31t1lzli = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1a31t1lzli();
cov_1a31t1lzli().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_1a31t1lzli().s[1]++;
exports.JsonSageWorkflow = void 0;
const AutoDetector_1 =
/* istanbul ignore next */
(cov_1a31t1lzli().s[2]++, require("./AutoDetector"));
const ProjectAnalyzer_1 =
/* istanbul ignore next */
(cov_1a31t1lzli().s[3]++, require("./ProjectAnalyzer"));
const PerformanceOptimizer_1 =
/* istanbul ignore next */
(cov_1a31t1lzli().s[4]++, require("./PerformanceOptimizer"));
const compression_1 =
/* istanbul ignore next */
(cov_1a31t1lzli().s[5]++, require("./compression"));
const validator_1 =
/* istanbul ignore next */
(cov_1a31t1lzli().s[6]++, require("./validator"));
const cache_1 =
/* istanbul ignore next */
(cov_1a31t1lzli().s[7]++, require("./cache"));
const DeepSeekService_1 =
/* istanbul ignore next */
(cov_1a31t1lzli().s[8]++, require("./DeepSeekService"));
const NodeUtils_1 =
/* istanbul ignore next */
(cov_1a31t1lzli().s[9]++, require("../utils/NodeUtils"));
const WorkflowError_1 =
/* istanbul ignore next */
(cov_1a31t1lzli().s[10]++, require("./errors/WorkflowError"));
const WorkflowContext_1 =
/* istanbul ignore next */
(cov_1a31t1lzli().s[11]++, require("./WorkflowContext"));
/**
 * Represents a JSON processing workflow with advanced features
 */
class JsonSageWorkflow {
  constructor(options =
  /* istanbul ignore next */
  (cov_1a31t1lzli().b[0][0]++, {
    watch: true,
    autoProcess: true,
    generateTypes: true,
    autoOptimize: true,
    compression: true,
    validation: true,
    caching: true,
    timeout: 30000,
    maxRetries: 3,
    retryDelay: 1000
  })) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[0]++;
    cov_1a31t1lzli().s[12]++;
    this.options = options;
    // Node management
    /* istanbul ignore next */
    cov_1a31t1lzli().s[13]++;
    this.nodes = new Map();
    /* istanbul ignore next */
    cov_1a31t1lzli().s[14]++;
    this.edges = new Map();
    /* istanbul ignore next */
    cov_1a31t1lzli().s[15]++;
    this.nodeConfigs = new Map();
    // Error handling
    /* istanbul ignore next */
    cov_1a31t1lzli().s[16]++;
    this.errorHandlers = [];
    /* istanbul ignore next */
    cov_1a31t1lzli().s[17]++;
    this.detector = new AutoDetector_1.JsonSageAutoDetector({
      generateTypes: options.generateTypes
    });
    /* istanbul ignore next */
    cov_1a31t1lzli().s[18]++;
    this.analyzer = new ProjectAnalyzer_1.ProjectAnalyzer();
    /* istanbul ignore next */
    cov_1a31t1lzli().s[19]++;
    this.optimizer = new PerformanceOptimizer_1.PerformanceOptimizer();
    /* istanbul ignore next */
    cov_1a31t1lzli().s[20]++;
    this.compressor = new compression_1.JsonCompressor();
    /* istanbul ignore next */
    cov_1a31t1lzli().s[21]++;
    this.validator = new validator_1.JsonValidator({
      autoRepair: true
    });
    /* istanbul ignore next */
    cov_1a31t1lzli().s[22]++;
    this.cache = new cache_1.SmartCache();
    /* istanbul ignore next */
    cov_1a31t1lzli().s[23]++;
    if (options.deepseek) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[1][0]++;
      cov_1a31t1lzli().s[24]++;
      this.deepseek = new DeepSeekService_1.DeepSeekService(options.deepseek);
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[1][1]++;
    }
    cov_1a31t1lzli().s[25]++;
    this.initialize();
  }
  /**
   * Adds a single node to the workflow
   * @param id - Node identifier
   * @param node - Node instance
   * @param config - Node configuration
   */
  use(id, node, config) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[1]++;
    cov_1a31t1lzli().s[26]++;
    if (this.nodes.has(id)) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[2][0]++;
      cov_1a31t1lzli().s[27]++;
      throw new WorkflowError_1.WorkflowError(`Node with ID '${id}' already exists`);
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[2][1]++;
    }
    cov_1a31t1lzli().s[28]++;
    node.setId(id);
    /* istanbul ignore next */
    cov_1a31t1lzli().s[29]++;
    if (config) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[3][0]++;
      cov_1a31t1lzli().s[30]++;
      node.setConfig(config);
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[3][1]++;
    }
    cov_1a31t1lzli().s[31]++;
    this.nodes.set(id, node);
    /* istanbul ignore next */
    cov_1a31t1lzli().s[32]++;
    this.nodeConfigs.set(id, config);
    /* istanbul ignore next */
    cov_1a31t1lzli().s[33]++;
    return this;
  }
  /**
   * Adds multiple nodes to the workflow
   * @param nodes - Array of node configurations
   */
  useMany(nodes) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[2]++;
    cov_1a31t1lzli().s[34]++;
    for (const {
      id,
      node,
      config
    } of nodes) {
      /* istanbul ignore next */
      cov_1a31t1lzli().s[35]++;
      this.use(id, node, config);
    }
    /* istanbul ignore next */
    cov_1a31t1lzli().s[36]++;
    return this;
  }
  /**
   * Adds a connection between nodes
   * @param from - Source node ID
   * @param to - Target node ID
   */
  connect(from, to) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[3]++;
    cov_1a31t1lzli().s[37]++;
    if (!this.nodes.has(from)) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[4][0]++;
      cov_1a31t1lzli().s[38]++;
      throw new WorkflowError_1.WorkflowError(`Source node '${from}' not found`);
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[4][1]++;
    }
    cov_1a31t1lzli().s[39]++;
    if (!this.nodes.has(to)) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[5][0]++;
      cov_1a31t1lzli().s[40]++;
      throw new WorkflowError_1.WorkflowError(`Target node '${to}' not found`);
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[5][1]++;
    }
    const edges =
    /* istanbul ignore next */
    (cov_1a31t1lzli().s[41]++,
    /* istanbul ignore next */
    (cov_1a31t1lzli().b[6][0]++, this.edges.get(from)) ||
    /* istanbul ignore next */
    (cov_1a31t1lzli().b[6][1]++, []));
    /* istanbul ignore next */
    cov_1a31t1lzli().s[42]++;
    edges.push(to);
    /* istanbul ignore next */
    cov_1a31t1lzli().s[43]++;
    this.edges.set(from, edges);
    // Check for circular dependencies
    const cycles =
    /* istanbul ignore next */
    (cov_1a31t1lzli().s[44]++, NodeUtils_1.DependencyUtils.detectCircularDependencies(Object.fromEntries(this.edges)));
    /* istanbul ignore next */
    cov_1a31t1lzli().s[45]++;
    if (cycles.length > 0) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[7][0]++;
      cov_1a31t1lzli().s[46]++;
      throw new WorkflowError_1.WorkflowError(`Circular dependency detected: ${cycles[0].join(' -> ')}`);
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[7][1]++;
    }
    cov_1a31t1lzli().s[47]++;
    return this;
  }
  /**
   * Adds a global error handler
   * @param handler - Error handler function
   */
  onError(handler) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[4]++;
    cov_1a31t1lzli().s[48]++;
    this.errorHandlers.push(handler);
    /* istanbul ignore next */
    cov_1a31t1lzli().s[49]++;
    return this;
  }
  /**
   * Executes the workflow
   * @param input - Input data
   * @returns Processing result
   */
  async execute(input) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[5]++;
    const context =
    /* istanbul ignore next */
    (cov_1a31t1lzli().s[50]++, new WorkflowContext_1.WorkflowContext());
    /* istanbul ignore next */
    cov_1a31t1lzli().s[51]++;
    context.setData('input', input);
    /* istanbul ignore next */
    cov_1a31t1lzli().s[52]++;
    try {
      /* istanbul ignore next */
      cov_1a31t1lzli().s[53]++;
      // Validate workflow structure
      this.validateWorkflow();
      // Get execution order
      const executionOrder =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[54]++, NodeUtils_1.DependencyUtils.topologicalSort(Object.fromEntries(this.edges)));
      // Execute nodes in order
      /* istanbul ignore next */
      cov_1a31t1lzli().s[55]++;
      for (const nodeId of executionOrder) {
        const node =
        /* istanbul ignore next */
        (cov_1a31t1lzli().s[56]++, this.nodes.get(nodeId));
        /* istanbul ignore next */
        cov_1a31t1lzli().s[57]++;
        if (!node) {
          /* istanbul ignore next */
          cov_1a31t1lzli().b[8][0]++;
          cov_1a31t1lzli().s[58]++;
          continue;
        } else
        /* istanbul ignore next */
        {
          cov_1a31t1lzli().b[8][1]++;
        }
        cov_1a31t1lzli().s[59]++;
        try {
          /* istanbul ignore next */
          cov_1a31t1lzli().s[60]++;
          await node.execute(context);
        } catch (error) {
          /* istanbul ignore next */
          cov_1a31t1lzli().s[61]++;
          await this.handleNodeError(error, nodeId, context);
        }
      }
      /* istanbul ignore next */
      cov_1a31t1lzli().s[62]++;
      return context.getData('output');
    } catch (error) {
      /* istanbul ignore next */
      cov_1a31t1lzli().s[63]++;
      await this.handleWorkflowError(error, context);
      /* istanbul ignore next */
      cov_1a31t1lzli().s[64]++;
      throw error;
    }
  }
  async initialize() {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[6]++;
    cov_1a31t1lzli().s[65]++;
    try {
      // 
      const projectInfo =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[66]++, await this.analyzer.analyzeProject());
      // 
      /* istanbul ignore next */
      cov_1a31t1lzli().s[67]++;
      if (this.options.watch) {
        /* istanbul ignore next */
        cov_1a31t1lzli().b[9][0]++;
        cov_1a31t1lzli().s[68]++;
        this.detector.watchDirectories(projectInfo.jsonDirectories);
      } else
      /* istanbul ignore next */
      {
        cov_1a31t1lzli().b[9][1]++;
      }
      // 
      cov_1a31t1lzli().s[69]++;
      if (this.options.autoOptimize) {
        /* istanbul ignore next */
        cov_1a31t1lzli().b[10][0]++;
        cov_1a31t1lzli().s[70]++;
        await this.optimizer.optimize(projectInfo);
      } else
      /* istanbul ignore next */
      {
        cov_1a31t1lzli().b[10][1]++;
      }
      cov_1a31t1lzli().s[71]++;
      console.log('JsonSage initialized with advanced features:');
      /* istanbul ignore next */
      cov_1a31t1lzli().s[72]++;
      console.log('- Compression:', this.options.compression ?
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[11][0]++, 'enabled') :
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[11][1]++, 'disabled'));
      /* istanbul ignore next */
      cov_1a31t1lzli().s[73]++;
      console.log('- Validation:', this.options.validation ?
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[12][0]++, 'enabled') :
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[12][1]++, 'disabled'));
      /* istanbul ignore next */
      cov_1a31t1lzli().s[74]++;
      console.log('- Caching:', this.options.caching ?
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[13][0]++, 'enabled') :
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[13][1]++, 'disabled'));
    } catch (error) {
      /* istanbul ignore next */
      cov_1a31t1lzli().s[75]++;
      console.error('Error initializing JsonSage:', error);
      /* istanbul ignore next */
      cov_1a31t1lzli().s[76]++;
      throw new WorkflowError_1.WorkflowError('Failed to initialize workflow', {
        cause: error
      });
    }
  }
  /**
   * Validates workflow configuration
   * @throws {WorkflowError} If validation fails
   */
  validateWorkflow() {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[7]++;
    cov_1a31t1lzli().s[77]++;
    // Check for isolated nodes
    for (const [nodeId] of this.nodes) {
      const hasIncoming =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[78]++, Array.from(this.edges.values()).some(targets => {
        /* istanbul ignore next */
        cov_1a31t1lzli().f[8]++;
        cov_1a31t1lzli().s[79]++;
        return targets.includes(nodeId);
      }));
      const hasOutgoing =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[80]++, this.edges.has(nodeId));
      /* istanbul ignore next */
      cov_1a31t1lzli().s[81]++;
      if (
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[15][0]++, !hasIncoming) &&
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[15][1]++, !hasOutgoing)) {
        /* istanbul ignore next */
        cov_1a31t1lzli().b[14][0]++;
        cov_1a31t1lzli().s[82]++;
        throw new WorkflowError_1.WorkflowError(`Node '${nodeId}' is isolated (no connections)`);
      } else
      /* istanbul ignore next */
      {
        cov_1a31t1lzli().b[14][1]++;
      }
    }
    // Check for missing nodes in edges
    /* istanbul ignore next */
    cov_1a31t1lzli().s[83]++;
    for (const [from, targets] of this.edges) {
      /* istanbul ignore next */
      cov_1a31t1lzli().s[84]++;
      if (!this.nodes.has(from)) {
        /* istanbul ignore next */
        cov_1a31t1lzli().b[16][0]++;
        cov_1a31t1lzli().s[85]++;
        throw new WorkflowError_1.WorkflowError(`Edge references non-existent source node '${from}'`);
      } else
      /* istanbul ignore next */
      {
        cov_1a31t1lzli().b[16][1]++;
      }
      cov_1a31t1lzli().s[86]++;
      for (const to of targets) {
        /* istanbul ignore next */
        cov_1a31t1lzli().s[87]++;
        if (!this.nodes.has(to)) {
          /* istanbul ignore next */
          cov_1a31t1lzli().b[17][0]++;
          cov_1a31t1lzli().s[88]++;
          throw new WorkflowError_1.WorkflowError(`Edge references non-existent target node '${to}'`);
        } else
        /* istanbul ignore next */
        {
          cov_1a31t1lzli().b[17][1]++;
        }
      }
    }
  }
  /**
   * Handles node execution errors
   * @param error - Error that occurred
   * @param nodeId - ID of the failed node
   * @param context - Workflow context
   */
  async handleNodeError(error, nodeId, context) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[9]++;
    cov_1a31t1lzli().s[89]++;
    context.log.error(`Error in node '${nodeId}':`, error);
    // Try node-specific error handler
    const node =
    /* istanbul ignore next */
    (cov_1a31t1lzli().s[90]++, this.nodes.get(nodeId));
    /* istanbul ignore next */
    cov_1a31t1lzli().s[91]++;
    if (node) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[18][0]++;
      cov_1a31t1lzli().s[92]++;
      try {
        /* istanbul ignore next */
        cov_1a31t1lzli().s[93]++;
        await node.handleError(error, context);
        /* istanbul ignore next */
        cov_1a31t1lzli().s[94]++;
        return;
      } catch (handlerError) {
        /* istanbul ignore next */
        cov_1a31t1lzli().s[95]++;
        // Node error handler failed, continue with global handlers
        context.log.error(`Node '${nodeId}' error handler failed:`, handlerError);
      }
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[18][1]++;
    }
    // Try global error handlers
    cov_1a31t1lzli().s[96]++;
    for (const handler of this.errorHandlers) {
      /* istanbul ignore next */
      cov_1a31t1lzli().s[97]++;
      try {
        /* istanbul ignore next */
        cov_1a31t1lzli().s[98]++;
        await handler(error, context);
        /* istanbul ignore next */
        cov_1a31t1lzli().s[99]++;
        return;
      } catch (handlerError) {
        /* istanbul ignore next */
        cov_1a31t1lzli().s[100]++;
        context.log.error('Global error handler failed:', handlerError);
      }
    }
    // If all handlers fail, throw the error
    /* istanbul ignore next */
    cov_1a31t1lzli().s[101]++;
    throw new WorkflowError_1.WorkflowError(`Node '${nodeId}' execution failed`, {
      cause: error,
      nodeId
    });
  }
  /**
   * Handles workflow-level errors
   * @param error - Error that occurred
   * @param context - Workflow context
   */
  async handleWorkflowError(error, context) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[10]++;
    cov_1a31t1lzli().s[102]++;
    context.log.error('Workflow error:', error);
    // Try global error handlers
    /* istanbul ignore next */
    cov_1a31t1lzli().s[103]++;
    for (const handler of this.errorHandlers) {
      /* istanbul ignore next */
      cov_1a31t1lzli().s[104]++;
      try {
        /* istanbul ignore next */
        cov_1a31t1lzli().s[105]++;
        await handler(error, context);
        /* istanbul ignore next */
        cov_1a31t1lzli().s[106]++;
        return;
      } catch (handlerError) {
        /* istanbul ignore next */
        cov_1a31t1lzli().s[107]++;
        context.log.error('Global error handler failed:', handlerError);
      }
    }
    // If all handlers fail, throw the error
    /* istanbul ignore next */
    cov_1a31t1lzli().s[108]++;
    throw new WorkflowError_1.WorkflowError('Workflow execution failed', {
      cause: error
    });
  }
  parse(data) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[11]++;
    cov_1a31t1lzli().s[109]++;
    // 
    if (this.options.caching) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[19][0]++;
      const cached =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[110]++, this.cache.get(data));
      /* istanbul ignore next */
      cov_1a31t1lzli().s[111]++;
      if (cached) {
        /* istanbul ignore next */
        cov_1a31t1lzli().b[20][0]++;
        cov_1a31t1lzli().s[112]++;
        return cached;
      } else
      /* istanbul ignore next */
      {
        cov_1a31t1lzli().b[20][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[19][1]++;
    }
    let result;
    // 
    /* istanbul ignore next */
    cov_1a31t1lzli().s[113]++;
    if (this.options.compression) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[21][0]++;
      cov_1a31t1lzli().s[114]++;
      result = this.compressor.decompress(data);
    } else {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[21][1]++;
      cov_1a31t1lzli().s[115]++;
      result = JSON.parse(data);
    }
    // 
    /* istanbul ignore next */
    cov_1a31t1lzli().s[116]++;
    if (this.options.validation) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[22][0]++;
      const schema =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[117]++,
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[23][0]++, this.detector.getTypeDefinition(data)) ||
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[23][1]++, {}));
      const validationResult =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[118]++, this.validator.validate(result, schema));
      /* istanbul ignore next */
      cov_1a31t1lzli().s[119]++;
      if (
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[25][0]++, !validationResult.valid) &&
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[25][1]++, validationResult.repairedData)) {
        /* istanbul ignore next */
        cov_1a31t1lzli().b[24][0]++;
        cov_1a31t1lzli().s[120]++;
        result = validationResult.repairedData;
      } else
      /* istanbul ignore next */
      {
        cov_1a31t1lzli().b[24][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[22][1]++;
    }
    // 
    cov_1a31t1lzli().s[121]++;
    result = this.optimizer.optimizedParse(result);
    // 
    /* istanbul ignore next */
    cov_1a31t1lzli().s[122]++;
    if (this.options.caching) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[26][0]++;
      cov_1a31t1lzli().s[123]++;
      this.cache.set(data, result);
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[26][1]++;
    }
    cov_1a31t1lzli().s[124]++;
    return result;
  }
  stringify(data) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[12]++;
    cov_1a31t1lzli().s[125]++;
    // 
    if (this.options.caching) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[27][0]++;
      const cacheKey =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[126]++, JSON.stringify(data));
      const cached =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[127]++, this.cache.get(cacheKey));
      /* istanbul ignore next */
      cov_1a31t1lzli().s[128]++;
      if (cached) {
        /* istanbul ignore next */
        cov_1a31t1lzli().b[28][0]++;
        cov_1a31t1lzli().s[129]++;
        return cached;
      } else
      /* istanbul ignore next */
      {
        cov_1a31t1lzli().b[28][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[27][1]++;
    }
    let result =
    /* istanbul ignore next */
    (cov_1a31t1lzli().s[130]++, this.optimizer.optimizedStringify(data));
    // 
    /* istanbul ignore next */
    cov_1a31t1lzli().s[131]++;
    if (this.options.compression) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[29][0]++;
      cov_1a31t1lzli().s[132]++;
      result = this.compressor.compress(data);
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[29][1]++;
    }
    // 
    cov_1a31t1lzli().s[133]++;
    if (this.options.caching) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[30][0]++;
      const cacheKey =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[134]++, JSON.stringify(data));
      /* istanbul ignore next */
      cov_1a31t1lzli().s[135]++;
      this.cache.set(cacheKey, result);
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[30][1]++;
    }
    cov_1a31t1lzli().s[136]++;
    return result;
  }
  // 
  async getPerformanceReport() {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[13]++;
    const optimizerReport =
    /* istanbul ignore next */
    (cov_1a31t1lzli().s[137]++, await this.optimizer.generateReport());
    const cacheStats =
    /* istanbul ignore next */
    (cov_1a31t1lzli().s[138]++, this.cache.getStats());
    /* istanbul ignore next */
    cov_1a31t1lzli().s[139]++;
    return {
      ...optimizerReport,
      cache: cacheStats,
      compression: this.options.compression ?
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[31][0]++, {
        enabled: true,
        analysis: this.compressor.analyzeCompression(optimizerReport)
      }) :
      /* istanbul ignore next */
      (cov_1a31t1lzli().b[31][1]++, {
        enabled: false
      })
    };
  }
  //  DeepSeek AI  JSON Schema
  async generateSchema(json, options =
  /* istanbul ignore next */
  (cov_1a31t1lzli().b[32][0]++, {})) {
    /* istanbul ignore next */
    cov_1a31t1lzli().f[14]++;
    cov_1a31t1lzli().s[140]++;
    if (!this.deepseek) {
      /* istanbul ignore next */
      cov_1a31t1lzli().b[33][0]++;
      cov_1a31t1lzli().s[141]++;
      throw new Error('DeepSeek service is not configured. Please provide DeepSeek configuration in the constructor.');
    } else
    /* istanbul ignore next */
    {
      cov_1a31t1lzli().b[33][1]++;
    }
    cov_1a31t1lzli().s[142]++;
    try {
      /* istanbul ignore next */
      cov_1a31t1lzli().s[143]++;
      // 
      if (this.options.caching) {
        /* istanbul ignore next */
        cov_1a31t1lzli().b[34][0]++;
        const cacheKey =
        /* istanbul ignore next */
        (cov_1a31t1lzli().s[144]++, `schema:${json}`);
        const cached =
        /* istanbul ignore next */
        (cov_1a31t1lzli().s[145]++, this.cache.get(cacheKey));
        /* istanbul ignore next */
        cov_1a31t1lzli().s[146]++;
        if (cached) {
          /* istanbul ignore next */
          cov_1a31t1lzli().b[35][0]++;
          cov_1a31t1lzli().s[147]++;
          return cached;
        } else
        /* istanbul ignore next */
        {
          cov_1a31t1lzli().b[35][1]++;
        }
      } else
      /* istanbul ignore next */
      {
        cov_1a31t1lzli().b[34][1]++;
      }
      const schema =
      /* istanbul ignore next */
      (cov_1a31t1lzli().s[148]++, await this.deepseek.generateSchema(json, options));
      // 
      /* istanbul ignore next */
      cov_1a31t1lzli().s[149]++;
      if (this.options.caching) {
        /* istanbul ignore next */
        cov_1a31t1lzli().b[36][0]++;
        const cacheKey =
        /* istanbul ignore next */
        (cov_1a31t1lzli().s[150]++, `schema:${json}`);
        /* istanbul ignore next */
        cov_1a31t1lzli().s[151]++;
        this.cache.set(cacheKey, schema);
      } else
      /* istanbul ignore next */
      {
        cov_1a31t1lzli().b[36][1]++;
      }
      cov_1a31t1lzli().s[152]++;
      return schema;
    } catch (error) {
      /* istanbul ignore next */
      cov_1a31t1lzli().s[153]++;
      throw new Error(`Failed to generate schema: ${error.message}`);
    }
  }
}
/* istanbul ignore next */
cov_1a31t1lzli().s[154]++;
exports.JsonSageWorkflow = JsonSageWorkflow;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWEzMXQxbHpsaSIsImFjdHVhbENvdmVyYWdlIiwicyIsIkF1dG9EZXRlY3Rvcl8xIiwicmVxdWlyZSIsIlByb2plY3RBbmFseXplcl8xIiwiUGVyZm9ybWFuY2VPcHRpbWl6ZXJfMSIsImNvbXByZXNzaW9uXzEiLCJ2YWxpZGF0b3JfMSIsImNhY2hlXzEiLCJEZWVwU2Vla1NlcnZpY2VfMSIsIk5vZGVVdGlsc18xIiwiV29ya2Zsb3dFcnJvcl8xIiwiV29ya2Zsb3dDb250ZXh0XzEiLCJKc29uU2FnZVdvcmtmbG93IiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwiYiIsIndhdGNoIiwiYXV0b1Byb2Nlc3MiLCJnZW5lcmF0ZVR5cGVzIiwiYXV0b09wdGltaXplIiwiY29tcHJlc3Npb24iLCJ2YWxpZGF0aW9uIiwiY2FjaGluZyIsInRpbWVvdXQiLCJtYXhSZXRyaWVzIiwicmV0cnlEZWxheSIsImYiLCJub2RlcyIsIk1hcCIsImVkZ2VzIiwibm9kZUNvbmZpZ3MiLCJlcnJvckhhbmRsZXJzIiwiZGV0ZWN0b3IiLCJKc29uU2FnZUF1dG9EZXRlY3RvciIsImFuYWx5emVyIiwiUHJvamVjdEFuYWx5emVyIiwib3B0aW1pemVyIiwiUGVyZm9ybWFuY2VPcHRpbWl6ZXIiLCJjb21wcmVzc29yIiwiSnNvbkNvbXByZXNzb3IiLCJ2YWxpZGF0b3IiLCJKc29uVmFsaWRhdG9yIiwiYXV0b1JlcGFpciIsImNhY2hlIiwiU21hcnRDYWNoZSIsImRlZXBzZWVrIiwiRGVlcFNlZWtTZXJ2aWNlIiwiaW5pdGlhbGl6ZSIsInVzZSIsImlkIiwibm9kZSIsImNvbmZpZyIsImhhcyIsIldvcmtmbG93RXJyb3IiLCJzZXRJZCIsInNldENvbmZpZyIsInNldCIsInVzZU1hbnkiLCJjb25uZWN0IiwiZnJvbSIsInRvIiwiZ2V0IiwicHVzaCIsImN5Y2xlcyIsIkRlcGVuZGVuY3lVdGlscyIsImRldGVjdENpcmN1bGFyRGVwZW5kZW5jaWVzIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJsZW5ndGgiLCJqb2luIiwib25FcnJvciIsImhhbmRsZXIiLCJleGVjdXRlIiwiaW5wdXQiLCJjb250ZXh0IiwiV29ya2Zsb3dDb250ZXh0Iiwic2V0RGF0YSIsInZhbGlkYXRlV29ya2Zsb3ciLCJleGVjdXRpb25PcmRlciIsInRvcG9sb2dpY2FsU29ydCIsIm5vZGVJZCIsImVycm9yIiwiaGFuZGxlTm9kZUVycm9yIiwiZ2V0RGF0YSIsImhhbmRsZVdvcmtmbG93RXJyb3IiLCJwcm9qZWN0SW5mbyIsImFuYWx5emVQcm9qZWN0Iiwid2F0Y2hEaXJlY3RvcmllcyIsImpzb25EaXJlY3RvcmllcyIsIm9wdGltaXplIiwiY29uc29sZSIsImxvZyIsImNhdXNlIiwiaGFzSW5jb21pbmciLCJBcnJheSIsInZhbHVlcyIsInNvbWUiLCJ0YXJnZXRzIiwiaW5jbHVkZXMiLCJoYXNPdXRnb2luZyIsImhhbmRsZUVycm9yIiwiaGFuZGxlckVycm9yIiwicGFyc2UiLCJkYXRhIiwiY2FjaGVkIiwicmVzdWx0IiwiZGVjb21wcmVzcyIsIkpTT04iLCJzY2hlbWEiLCJnZXRUeXBlRGVmaW5pdGlvbiIsInZhbGlkYXRpb25SZXN1bHQiLCJ2YWxpZGF0ZSIsInZhbGlkIiwicmVwYWlyZWREYXRhIiwib3B0aW1pemVkUGFyc2UiLCJzdHJpbmdpZnkiLCJjYWNoZUtleSIsIm9wdGltaXplZFN0cmluZ2lmeSIsImNvbXByZXNzIiwiZ2V0UGVyZm9ybWFuY2VSZXBvcnQiLCJvcHRpbWl6ZXJSZXBvcnQiLCJnZW5lcmF0ZVJlcG9ydCIsImNhY2hlU3RhdHMiLCJnZXRTdGF0cyIsImVuYWJsZWQiLCJhbmFseXNpcyIsImFuYWx5emVDb21wcmVzc2lvbiIsImdlbmVyYXRlU2NoZW1hIiwianNvbiIsIkVycm9yIiwibWVzc2FnZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXGhvbmdwaW5nXFxDYXNjYWRlUHJvamVjdHNcXGpzb24tc2FnZS1haS1hZ2VudFxcc3JjXFxjb3JlXFxXb3JrZmxvdy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKc29uU2FnZUF1dG9EZXRlY3RvciB9IGZyb20gJy4vQXV0b0RldGVjdG9yJztcclxuaW1wb3J0IHsgUHJvamVjdEFuYWx5emVyIH0gZnJvbSAnLi9Qcm9qZWN0QW5hbHl6ZXInO1xyXG5pbXBvcnQgeyBQZXJmb3JtYW5jZU9wdGltaXplciB9IGZyb20gJy4vUGVyZm9ybWFuY2VPcHRpbWl6ZXInO1xyXG5pbXBvcnQgeyBKc29uQ29tcHJlc3NvciB9IGZyb20gJy4vY29tcHJlc3Npb24nO1xyXG5pbXBvcnQgeyBKc29uVmFsaWRhdG9yIH0gZnJvbSAnLi92YWxpZGF0b3InO1xyXG5pbXBvcnQgeyBTbWFydENhY2hlIH0gZnJvbSAnLi9jYWNoZSc7XHJcbmltcG9ydCB7IERlZXBTZWVrU2VydmljZSwgRGVlcFNlZWtDb25maWcsIFNjaGVtYUdlbmVyYXRpb25PcHRpb25zIH0gZnJvbSAnLi9EZWVwU2Vla1NlcnZpY2UnO1xyXG5pbXBvcnQgeyBEZXBlbmRlbmN5VXRpbHMgfSBmcm9tICcuLi91dGlscy9Ob2RlVXRpbHMnO1xyXG5pbXBvcnQgeyBXb3JrZmxvd0Vycm9yIH0gZnJvbSAnLi9lcnJvcnMvV29ya2Zsb3dFcnJvcic7XHJcbmltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XHJcbmltcG9ydCB7IFdvcmtmbG93Q29udGV4dCB9IGZyb20gJy4vV29ya2Zsb3dDb250ZXh0JztcclxuXHJcbmludGVyZmFjZSBXb3JrZmxvd09wdGlvbnMge1xyXG4gICAgd2F0Y2g6IGJvb2xlYW47XHJcbiAgICBhdXRvUHJvY2VzczogYm9vbGVhbjtcclxuICAgIGdlbmVyYXRlVHlwZXM6IGJvb2xlYW47XHJcbiAgICBhdXRvT3B0aW1pemU6IGJvb2xlYW47XHJcbiAgICBjb21wcmVzc2lvbj86IGJvb2xlYW47XHJcbiAgICB2YWxpZGF0aW9uPzogYm9vbGVhbjtcclxuICAgIGNhY2hpbmc/OiBib29sZWFuO1xyXG4gICAgZGVlcHNlZWs/OiBEZWVwU2Vla0NvbmZpZztcclxuICAgIC8qKlxyXG4gICAgICogTWF4aW11bSBleGVjdXRpb24gdGltZSBmb3IgdGhlIHdvcmtmbG93IGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICovXHJcbiAgICB0aW1lb3V0PzogbnVtYmVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIGZvciBmYWlsZWQgbm9kZXNcclxuICAgICAqL1xyXG4gICAgbWF4UmV0cmllcz86IG51bWJlcjtcclxuICAgIC8qKlxyXG4gICAgICogRGVsYXkgYmV0d2VlbiByZXRyaWVzIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICovXHJcbiAgICByZXRyeURlbGF5PzogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyBhIEpTT04gcHJvY2Vzc2luZyB3b3JrZmxvdyB3aXRoIGFkdmFuY2VkIGZlYXR1cmVzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSnNvblNhZ2VXb3JrZmxvdyB7XHJcbiAgICBwcml2YXRlIGRldGVjdG9yOiBKc29uU2FnZUF1dG9EZXRlY3RvcjtcclxuICAgIHByaXZhdGUgYW5hbHl6ZXI6IFByb2plY3RBbmFseXplcjtcclxuICAgIHByaXZhdGUgb3B0aW1pemVyOiBQZXJmb3JtYW5jZU9wdGltaXplcjtcclxuICAgIHByaXZhdGUgY29tcHJlc3NvcjogSnNvbkNvbXByZXNzb3I7XHJcbiAgICBwcml2YXRlIHZhbGlkYXRvcjogSnNvblZhbGlkYXRvcjtcclxuICAgIHByaXZhdGUgY2FjaGU6IFNtYXJ0Q2FjaGU8YW55PjtcclxuICAgIHByaXZhdGUgZGVlcHNlZWs/OiBEZWVwU2Vla1NlcnZpY2U7XHJcbiAgICBcclxuICAgIC8vIE5vZGUgbWFuYWdlbWVudFxyXG4gICAgcHJpdmF0ZSBub2RlczogTWFwPHN0cmluZywgQmFzZU5vZGU+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSBlZGdlczogTWFwPHN0cmluZywgc3RyaW5nW10+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSBub2RlQ29uZmlnczogTWFwPHN0cmluZywgYW55PiA9IG5ldyBNYXAoKTtcclxuICAgIFxyXG4gICAgLy8gRXJyb3IgaGFuZGxpbmdcclxuICAgIHByaXZhdGUgZXJyb3JIYW5kbGVyczogQXJyYXk8KGVycm9yOiBFcnJvciwgY29udGV4dDogV29ya2Zsb3dDb250ZXh0KSA9PiBQcm9taXNlPHZvaWQ+PiA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgb3B0aW9uczogV29ya2Zsb3dPcHRpb25zID0ge1xyXG4gICAgICAgIHdhdGNoOiB0cnVlLFxyXG4gICAgICAgIGF1dG9Qcm9jZXNzOiB0cnVlLFxyXG4gICAgICAgIGdlbmVyYXRlVHlwZXM6IHRydWUsXHJcbiAgICAgICAgYXV0b09wdGltaXplOiB0cnVlLFxyXG4gICAgICAgIGNvbXByZXNzaW9uOiB0cnVlLFxyXG4gICAgICAgIHZhbGlkYXRpb246IHRydWUsXHJcbiAgICAgICAgY2FjaGluZzogdHJ1ZSxcclxuICAgICAgICB0aW1lb3V0OiAzMDAwMCxcclxuICAgICAgICBtYXhSZXRyaWVzOiAzLFxyXG4gICAgICAgIHJldHJ5RGVsYXk6IDEwMDBcclxuICAgIH0pIHtcclxuICAgICAgICB0aGlzLmRldGVjdG9yID0gbmV3IEpzb25TYWdlQXV0b0RldGVjdG9yKHsgZ2VuZXJhdGVUeXBlczogb3B0aW9ucy5nZW5lcmF0ZVR5cGVzIH0pO1xyXG4gICAgICAgIHRoaXMuYW5hbHl6ZXIgPSBuZXcgUHJvamVjdEFuYWx5emVyKCk7XHJcbiAgICAgICAgdGhpcy5vcHRpbWl6ZXIgPSBuZXcgUGVyZm9ybWFuY2VPcHRpbWl6ZXIoKTtcclxuICAgICAgICB0aGlzLmNvbXByZXNzb3IgPSBuZXcgSnNvbkNvbXByZXNzb3IoKTtcclxuICAgICAgICB0aGlzLnZhbGlkYXRvciA9IG5ldyBKc29uVmFsaWRhdG9yKHsgYXV0b1JlcGFpcjogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IFNtYXJ0Q2FjaGUoKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAob3B0aW9ucy5kZWVwc2Vlaykge1xyXG4gICAgICAgICAgICB0aGlzLmRlZXBzZWVrID0gbmV3IERlZXBTZWVrU2VydmljZShvcHRpb25zLmRlZXBzZWVrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGEgc2luZ2xlIG5vZGUgdG8gdGhlIHdvcmtmbG93XHJcbiAgICAgKiBAcGFyYW0gaWQgLSBOb2RlIGlkZW50aWZpZXJcclxuICAgICAqIEBwYXJhbSBub2RlIC0gTm9kZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIE5vZGUgY29uZmlndXJhdGlvblxyXG4gICAgICovXHJcbiAgICB1c2UoaWQ6IHN0cmluZywgbm9kZTogQmFzZU5vZGUsIGNvbmZpZz86IGFueSk6IHRoaXMge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGVzLmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmtmbG93RXJyb3IoYE5vZGUgd2l0aCBJRCAnJHtpZH0nIGFscmVhZHkgZXhpc3RzYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIG5vZGUuc2V0SWQoaWQpO1xyXG4gICAgICAgIGlmIChjb25maWcpIHtcclxuICAgICAgICAgICAgbm9kZS5zZXRDb25maWcoY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5ub2Rlcy5zZXQoaWQsIG5vZGUpO1xyXG4gICAgICAgIHRoaXMubm9kZUNvbmZpZ3Muc2V0KGlkLCBjb25maWcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBtdWx0aXBsZSBub2RlcyB0byB0aGUgd29ya2Zsb3dcclxuICAgICAqIEBwYXJhbSBub2RlcyAtIEFycmF5IG9mIG5vZGUgY29uZmlndXJhdGlvbnNcclxuICAgICAqL1xyXG4gICAgdXNlTWFueShub2RlczogQXJyYXk8eyBpZDogc3RyaW5nOyBub2RlOiBCYXNlTm9kZTsgY29uZmlnPzogYW55IH0+KTogdGhpcyB7XHJcbiAgICAgICAgZm9yIChjb25zdCB7IGlkLCBub2RlLCBjb25maWcgfSBvZiBub2Rlcykge1xyXG4gICAgICAgICAgICB0aGlzLnVzZShpZCwgbm9kZSwgY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGEgY29ubmVjdGlvbiBiZXR3ZWVuIG5vZGVzXHJcbiAgICAgKiBAcGFyYW0gZnJvbSAtIFNvdXJjZSBub2RlIElEXHJcbiAgICAgKiBAcGFyYW0gdG8gLSBUYXJnZXQgbm9kZSBJRFxyXG4gICAgICovXHJcbiAgICBjb25uZWN0KGZyb206IHN0cmluZywgdG86IHN0cmluZyk6IHRoaXMge1xyXG4gICAgICAgIGlmICghdGhpcy5ub2Rlcy5oYXMoZnJvbSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmtmbG93RXJyb3IoYFNvdXJjZSBub2RlICcke2Zyb219JyBub3QgZm91bmRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLm5vZGVzLmhhcyh0bykpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmtmbG93RXJyb3IoYFRhcmdldCBub2RlICcke3RvfScgbm90IGZvdW5kYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGVkZ2VzID0gdGhpcy5lZGdlcy5nZXQoZnJvbSkgfHwgW107XHJcbiAgICAgICAgZWRnZXMucHVzaCh0byk7XHJcbiAgICAgICAgdGhpcy5lZGdlcy5zZXQoZnJvbSwgZWRnZXMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciBkZXBlbmRlbmNpZXNcclxuICAgICAgICBjb25zdCBjeWNsZXMgPSBEZXBlbmRlbmN5VXRpbHMuZGV0ZWN0Q2lyY3VsYXJEZXBlbmRlbmNpZXMoT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuZWRnZXMpKTtcclxuICAgICAgICBpZiAoY3ljbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmtmbG93RXJyb3IoYENpcmN1bGFyIGRlcGVuZGVuY3kgZGV0ZWN0ZWQ6ICR7Y3ljbGVzWzBdLmpvaW4oJyAtPiAnKX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGEgZ2xvYmFsIGVycm9yIGhhbmRsZXJcclxuICAgICAqIEBwYXJhbSBoYW5kbGVyIC0gRXJyb3IgaGFuZGxlciBmdW5jdGlvblxyXG4gICAgICovXHJcbiAgICBvbkVycm9yKGhhbmRsZXI6IChlcnJvcjogRXJyb3IsIGNvbnRleHQ6IFdvcmtmbG93Q29udGV4dCkgPT4gUHJvbWlzZTx2b2lkPik6IHRoaXMge1xyXG4gICAgICAgIHRoaXMuZXJyb3JIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZXMgdGhlIHdvcmtmbG93XHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgLSBJbnB1dCBkYXRhXHJcbiAgICAgKiBAcmV0dXJucyBQcm9jZXNzaW5nIHJlc3VsdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBleGVjdXRlKGlucHV0OiBhbnkpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgV29ya2Zsb3dDb250ZXh0KCk7XHJcbiAgICAgICAgY29udGV4dC5zZXREYXRhKCdpbnB1dCcsIGlucHV0KTtcclxuICAgICAgICBcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSB3b3JrZmxvdyBzdHJ1Y3R1cmVcclxuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVdvcmtmbG93KCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBHZXQgZXhlY3V0aW9uIG9yZGVyXHJcbiAgICAgICAgICAgIGNvbnN0IGV4ZWN1dGlvbk9yZGVyID0gRGVwZW5kZW5jeVV0aWxzLnRvcG9sb2dpY2FsU29ydChcclxuICAgICAgICAgICAgICAgIE9iamVjdC5mcm9tRW50cmllcyh0aGlzLmVkZ2VzKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRXhlY3V0ZSBub2RlcyBpbiBvcmRlclxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGVJZCBvZiBleGVjdXRpb25PcmRlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZXMuZ2V0KG5vZGVJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5vZGUuZXhlY3V0ZShjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVOb2RlRXJyb3IoZXJyb3IgYXMgRXJyb3IsIG5vZGVJZCwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmdldERhdGEoJ291dHB1dCcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlV29ya2Zsb3dFcnJvcihlcnJvciBhcyBFcnJvciwgY29udGV4dCk7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8g5YiG5p6Q6aG555uu57uT5p6EXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RJbmZvID0gYXdhaXQgdGhpcy5hbmFseXplci5hbmFseXplUHJvamVjdCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8g6K6+572u6Ieq5Yqo55uR5o6nXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMud2F0Y2gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV0ZWN0b3Iud2F0Y2hEaXJlY3Rvcmllcyhwcm9qZWN0SW5mby5qc29uRGlyZWN0b3JpZXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyDmgKfog73kvJjljJZcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvT3B0aW1pemUpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMub3B0aW1pemVyLm9wdGltaXplKHByb2plY3RJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0pzb25TYWdlIGluaXRpYWxpemVkIHdpdGggYWR2YW5jZWQgZmVhdHVyZXM6Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCctIENvbXByZXNzaW9uOicsIHRoaXMub3B0aW9ucy5jb21wcmVzc2lvbiA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnLSBWYWxpZGF0aW9uOicsIHRoaXMub3B0aW9ucy52YWxpZGF0aW9uID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCctIENhY2hpbmc6JywgdGhpcy5vcHRpb25zLmNhY2hpbmcgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgSnNvblNhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ya2Zsb3dFcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgd29ya2Zsb3cnLCB7IGNhdXNlOiBlcnJvciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZXMgd29ya2Zsb3cgY29uZmlndXJhdGlvblxyXG4gICAgICogQHRocm93cyB7V29ya2Zsb3dFcnJvcn0gSWYgdmFsaWRhdGlvbiBmYWlsc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHZhbGlkYXRlV29ya2Zsb3coKTogdm9pZCB7XHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGlzb2xhdGVkIG5vZGVzXHJcbiAgICAgICAgZm9yIChjb25zdCBbbm9kZUlkXSBvZiB0aGlzLm5vZGVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc0luY29taW5nID0gQXJyYXkuZnJvbSh0aGlzLmVkZ2VzLnZhbHVlcygpKS5zb21lKFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0cyA9PiB0YXJnZXRzLmluY2x1ZGVzKG5vZGVJZClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc3QgaGFzT3V0Z29pbmcgPSB0aGlzLmVkZ2VzLmhhcyhub2RlSWQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCFoYXNJbmNvbWluZyAmJiAhaGFzT3V0Z29pbmcpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JrZmxvd0Vycm9yKGBOb2RlICcke25vZGVJZH0nIGlzIGlzb2xhdGVkIChubyBjb25uZWN0aW9ucylgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayBmb3IgbWlzc2luZyBub2RlcyBpbiBlZGdlc1xyXG4gICAgICAgIGZvciAoY29uc3QgW2Zyb20sIHRhcmdldHNdIG9mIHRoaXMuZWRnZXMpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm5vZGVzLmhhcyhmcm9tKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmtmbG93RXJyb3IoYEVkZ2UgcmVmZXJlbmNlcyBub24tZXhpc3RlbnQgc291cmNlIG5vZGUgJyR7ZnJvbX0nYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG8gb2YgdGFyZ2V0cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5vZGVzLmhhcyh0bykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV29ya2Zsb3dFcnJvcihgRWRnZSByZWZlcmVuY2VzIG5vbi1leGlzdGVudCB0YXJnZXQgbm9kZSAnJHt0b30nYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIG5vZGUgZXhlY3V0aW9uIGVycm9yc1xyXG4gICAgICogQHBhcmFtIGVycm9yIC0gRXJyb3IgdGhhdCBvY2N1cnJlZFxyXG4gICAgICogQHBhcmFtIG5vZGVJZCAtIElEIG9mIHRoZSBmYWlsZWQgbm9kZVxyXG4gICAgICogQHBhcmFtIGNvbnRleHQgLSBXb3JrZmxvdyBjb250ZXh0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlTm9kZUVycm9yKFxyXG4gICAgICAgIGVycm9yOiBFcnJvcixcclxuICAgICAgICBub2RlSWQ6IHN0cmluZyxcclxuICAgICAgICBjb250ZXh0OiBXb3JrZmxvd0NvbnRleHRcclxuICAgICk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnRleHQubG9nLmVycm9yKGBFcnJvciBpbiBub2RlICcke25vZGVJZH0nOmAsIGVycm9yKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBUcnkgbm9kZS1zcGVjaWZpYyBlcnJvciBoYW5kbGVyXHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZXMuZ2V0KG5vZGVJZCk7XHJcbiAgICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG5vZGUuaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChoYW5kbGVyRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vZGUgZXJyb3IgaGFuZGxlciBmYWlsZWQsIGNvbnRpbnVlIHdpdGggZ2xvYmFsIGhhbmRsZXJzXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihcclxuICAgICAgICAgICAgICAgICAgICBgTm9kZSAnJHtub2RlSWR9JyBlcnJvciBoYW5kbGVyIGZhaWxlZDpgLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXJFcnJvclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBUcnkgZ2xvYmFsIGVycm9yIGhhbmRsZXJzXHJcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMuZXJyb3JIYW5kbGVycykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlcihlcnJvciwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGhhbmRsZXJFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3IoJ0dsb2JhbCBlcnJvciBoYW5kbGVyIGZhaWxlZDonLCBoYW5kbGVyRXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIElmIGFsbCBoYW5kbGVycyBmYWlsLCB0aHJvdyB0aGUgZXJyb3JcclxuICAgICAgICB0aHJvdyBuZXcgV29ya2Zsb3dFcnJvcihgTm9kZSAnJHtub2RlSWR9JyBleGVjdXRpb24gZmFpbGVkYCwge1xyXG4gICAgICAgICAgICBjYXVzZTogZXJyb3IsXHJcbiAgICAgICAgICAgIG5vZGVJZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB3b3JrZmxvdy1sZXZlbCBlcnJvcnNcclxuICAgICAqIEBwYXJhbSBlcnJvciAtIEVycm9yIHRoYXQgb2NjdXJyZWRcclxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gV29ya2Zsb3cgY29udGV4dFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZVdvcmtmbG93RXJyb3IoXHJcbiAgICAgICAgZXJyb3I6IEVycm9yLFxyXG4gICAgICAgIGNvbnRleHQ6IFdvcmtmbG93Q29udGV4dFxyXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29udGV4dC5sb2cuZXJyb3IoJ1dvcmtmbG93IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBUcnkgZ2xvYmFsIGVycm9yIGhhbmRsZXJzXHJcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMuZXJyb3JIYW5kbGVycykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlcihlcnJvciwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGhhbmRsZXJFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3IoJ0dsb2JhbCBlcnJvciBoYW5kbGVyIGZhaWxlZDonLCBoYW5kbGVyRXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIElmIGFsbCBoYW5kbGVycyBmYWlsLCB0aHJvdyB0aGUgZXJyb3JcclxuICAgICAgICB0aHJvdyBuZXcgV29ya2Zsb3dFcnJvcignV29ya2Zsb3cgZXhlY3V0aW9uIGZhaWxlZCcsIHsgY2F1c2U6IGVycm9yIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlKGRhdGE6IHN0cmluZykge1xyXG4gICAgICAgIC8vIOajgOafpee8k+WtmFxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2FjaGluZykge1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmNhY2hlLmdldChkYXRhKTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZCkgcmV0dXJuIGNhY2hlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g6Kej5Y6L57yp77yI5aaC5p6c6ZyA6KaB77yJXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wcmVzc2lvbikge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNvbXByZXNzb3IuZGVjb21wcmVzcyhkYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6aqM6K+B5pWw5o2uXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52YWxpZGF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuZGV0ZWN0b3IuZ2V0VHlwZURlZmluaXRpb24oZGF0YSkgfHwge307XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSB0aGlzLnZhbGlkYXRvci52YWxpZGF0ZShyZXN1bHQsIHNjaGVtYSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQudmFsaWQgJiYgdmFsaWRhdGlvblJlc3VsdC5yZXBhaXJlZERhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbGlkYXRpb25SZXN1bHQucmVwYWlyZWREYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDkvJjljJblpITnkIZcclxuICAgICAgICByZXN1bHQgPSB0aGlzLm9wdGltaXplci5vcHRpbWl6ZWRQYXJzZShyZXN1bHQpO1xyXG5cclxuICAgICAgICAvLyDnvJPlrZjnu5PmnpxcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNhY2hpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5jYWNoZS5zZXQoZGF0YSwgcmVzdWx0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RyaW5naWZ5KGRhdGE6IGFueSkge1xyXG4gICAgICAgIC8vIOajgOafpee8k+WtmFxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2FjaGluZykge1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZUtleSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XHJcbiAgICAgICAgICAgIGlmIChjYWNoZWQpIHJldHVybiBjYWNoZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5vcHRpbWl6ZXIub3B0aW1pemVkU3RyaW5naWZ5KGRhdGEpO1xyXG5cclxuICAgICAgICAvLyDljovnvKnvvIjlpoLmnpzpnIDopoHvvIlcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbXByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuY29tcHJlc3Nvci5jb21wcmVzcyhkYXRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOe8k+WtmOe7k+aenFxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2FjaGluZykge1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZUtleSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLmNhY2hlLnNldChjYWNoZUtleSwgcmVzdWx0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6I635Y+W5oCn6IO95oql5ZGKXHJcbiAgICBhc3luYyBnZXRQZXJmb3JtYW5jZVJlcG9ydCgpIHtcclxuICAgICAgICBjb25zdCBvcHRpbWl6ZXJSZXBvcnQgPSBhd2FpdCB0aGlzLm9wdGltaXplci5nZW5lcmF0ZVJlcG9ydCgpO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlU3RhdHMgPSB0aGlzLmNhY2hlLmdldFN0YXRzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4ub3B0aW1pemVyUmVwb3J0LFxyXG4gICAgICAgICAgICBjYWNoZTogY2FjaGVTdGF0cyxcclxuICAgICAgICAgICAgY29tcHJlc3Npb246IHRoaXMub3B0aW9ucy5jb21wcmVzc2lvbiA/IHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhbmFseXNpczogdGhpcy5jb21wcmVzc29yLmFuYWx5emVDb21wcmVzc2lvbihvcHRpbWl6ZXJSZXBvcnQpXHJcbiAgICAgICAgICAgIH0gOiB7IGVuYWJsZWQ6IGZhbHNlIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOaWsOWinu+8muS9v+eUqCBEZWVwU2VlayBBSSDnlJ/miJAgSlNPTiBTY2hlbWFcclxuICAgIGFzeW5jIGdlbmVyYXRlU2NoZW1hKGpzb246IHN0cmluZywgb3B0aW9uczogU2NoZW1hR2VuZXJhdGlvbk9wdGlvbnMgPSB7fSk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRlZXBzZWVrKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGVlcFNlZWsgc2VydmljZSBpcyBub3QgY29uZmlndXJlZC4gUGxlYXNlIHByb3ZpZGUgRGVlcFNlZWsgY29uZmlndXJhdGlvbiBpbiB0aGUgY29uc3RydWN0b3IuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyDmo4Dmn6XnvJPlrZhcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jYWNoaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUtleSA9IGBzY2hlbWE6JHtqc29ufWA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkKSByZXR1cm4gY2FjaGVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBhd2FpdCB0aGlzLmRlZXBzZWVrLmdlbmVyYXRlU2NoZW1hKGpzb24sIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgLy8g57yT5a2Y57uT5p6cXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2FjaGluZykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBgc2NoZW1hOiR7anNvbn1gO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZS5zZXQoY2FjaGVLZXksIHNjaGVtYSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWE7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2VuZXJhdGUgc2NoZW1hOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFxQ0c7SUFBQUEsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQUQsY0FBQTtBQUFBQSxjQUFBLEdBQUFFLENBQUE7Ozs7Ozs7QUFyQ0gsTUFBQUMsY0FBQTtBQUFBO0FBQUEsQ0FBQUgs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